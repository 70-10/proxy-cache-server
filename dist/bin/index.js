#!/usr/bin/env bun
// @bun
var dt=Object.defineProperty;var Bt=(u,D)=>{for(var e in D)dt(u,e,{get:D[e],enumerable:!0,configurable:!0,set:(r)=>D[e]=()=>r})};var mt=(u,D)=>()=>(u&&(D=u(u=0)),D);var VD={};Bt(VD,{prompt:()=>MD,kCancel:()=>TD});import v,{stdin as Wt,stdout as zt}from"process";import FD from"readline";import{WriteStream as qt}from"tty";function Kt(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Gt(){if(lD)return yu;lD=1;let u="\x1B",D=`${u}[`,e="\x07",r={to(t,i){if(!i)return`${D}${t+1}G`;return`${D}${i+1};${t+1}H`},move(t,i){let o="";if(t<0)o+=`${D}${-t}D`;else if(t>0)o+=`${D}${t}C`;if(i<0)o+=`${D}${-i}A`;else if(i>0)o+=`${D}${i}B`;return o},up:(t=1)=>`${D}${t}A`,down:(t=1)=>`${D}${t}B`,forward:(t=1)=>`${D}${t}C`,backward:(t=1)=>`${D}${t}D`,nextLine:(t=1)=>`${D}E`.repeat(t),prevLine:(t=1)=>`${D}F`.repeat(t),left:`${D}G`,hide:`${D}?25l`,show:`${D}?25h`,save:`${u}7`,restore:`${u}8`},n={up:(t=1)=>`${D}S`.repeat(t),down:(t=1)=>`${D}T`.repeat(t)},s={screen:`${D}2J`,up:(t=1)=>`${D}1J`.repeat(t),down:(t=1)=>`${D}J`.repeat(t),line:`${D}2K`,lineEnd:`${D}K`,lineStart:`${D}1K`,lines(t){let i="";for(let o=0;o<t;o++)i+=this.line+(o<t-1?r.up():"");if(t)i+=r.left;return i}};return yu={cursor:r,scroll:n,erase:s,beep:e},yu}function Pt(){if(hD)return eu.exports;hD=1;let u=process||{},D=u.argv||[],e=u.env||{},r=!(!!e.NO_COLOR||D.includes("--no-color"))&&(!!e.FORCE_COLOR||D.includes("--color")||u.platform==="win32"||(u.stdout||{}).isTTY&&e.TERM!=="dumb"||!!e.CI),n=(i,o,a=i)=>(c)=>{let l=""+c,C=l.indexOf(o,i.length);return~C?i+s(l,o,a,C)+o:i+l+o},s=(i,o,a,c)=>{let l="",C=0;do l+=i.substring(C,c)+a,C=c+o.length,c=i.indexOf(o,C);while(~c);return l+i.substring(C)},t=(i=r)=>{let o=i?n:()=>String;return{isColorSupported:i,reset:o("\x1B[0m","\x1B[0m"),bold:o("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:o("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:o("\x1B[3m","\x1B[23m"),underline:o("\x1B[4m","\x1B[24m"),inverse:o("\x1B[7m","\x1B[27m"),hidden:o("\x1B[8m","\x1B[28m"),strikethrough:o("\x1B[9m","\x1B[29m"),black:o("\x1B[30m","\x1B[39m"),red:o("\x1B[31m","\x1B[39m"),green:o("\x1B[32m","\x1B[39m"),yellow:o("\x1B[33m","\x1B[39m"),blue:o("\x1B[34m","\x1B[39m"),magenta:o("\x1B[35m","\x1B[39m"),cyan:o("\x1B[36m","\x1B[39m"),white:o("\x1B[37m","\x1B[39m"),gray:o("\x1B[90m","\x1B[39m"),bgBlack:o("\x1B[40m","\x1B[49m"),bgRed:o("\x1B[41m","\x1B[49m"),bgGreen:o("\x1B[42m","\x1B[49m"),bgYellow:o("\x1B[43m","\x1B[49m"),bgBlue:o("\x1B[44m","\x1B[49m"),bgMagenta:o("\x1B[45m","\x1B[49m"),bgCyan:o("\x1B[46m","\x1B[49m"),bgWhite:o("\x1B[47m","\x1B[49m"),blackBright:o("\x1B[90m","\x1B[39m"),redBright:o("\x1B[91m","\x1B[39m"),greenBright:o("\x1B[92m","\x1B[39m"),yellowBright:o("\x1B[93m","\x1B[39m"),blueBright:o("\x1B[94m","\x1B[39m"),magentaBright:o("\x1B[95m","\x1B[39m"),cyanBright:o("\x1B[96m","\x1B[39m"),whiteBright:o("\x1B[97m","\x1B[39m"),bgBlackBright:o("\x1B[100m","\x1B[49m"),bgRedBright:o("\x1B[101m","\x1B[49m"),bgGreenBright:o("\x1B[102m","\x1B[49m"),bgYellowBright:o("\x1B[103m","\x1B[49m"),bgBlueBright:o("\x1B[104m","\x1B[49m"),bgMagentaBright:o("\x1B[105m","\x1B[49m"),bgCyanBright:o("\x1B[106m","\x1B[49m"),bgWhiteBright:o("\x1B[107m","\x1B[49m")}};return eu.exports=t(),eu.exports.createColors=t,eu.exports}function Zt({onlyFirst:u=!1}={}){let D=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(D,u?void 0:"g")}function $D(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(Ut,"")}function wD(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function X(u,D={}){if(typeof u!="string"||u.length===0||(D={ambiguousIsNarrow:!0,...D},u=$D(u),u.length===0))return 0;u=u.replace(Yt(),"  ");let e=D.ambiguousIsNarrow?1:2,r=0;for(let n of u){let s=n.codePointAt(0);if(s<=31||s>=127&&s<=159||s>=768&&s<=879)continue;switch(Ot.eastAsianWidth(n)){case"F":case"W":r+=2;break;case"A":r+=e;break;default:r+=1}}return r}function xt(){let u=new Map;for(let[D,e]of Object.entries(b)){for(let[r,n]of Object.entries(e))b[r]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},e[r]=b[r],u.set(n[0],n[1]);Object.defineProperty(b,D,{value:e,enumerable:!1})}return Object.defineProperty(b,"codes",{value:u,enumerable:!1}),b.color.close="\x1B[39m",b.bgColor.close="\x1B[49m",b.color.ansi=CD(),b.color.ansi256=fD(),b.color.ansi16m=ED(),b.bgColor.ansi=CD(Su),b.bgColor.ansi256=fD(Su),b.bgColor.ansi16m=ED(Su),Object.defineProperties(b,{rgbToAnsi256:{value:(D,e,r)=>D===e&&e===r?D<8?16:D>248?231:Math.round((D-8)/247*24)+232:16+36*Math.round(D/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:(D)=>{let e=/[a-f\d]{6}|[a-f\d]{3}/i.exec(D.toString(16));if(!e)return[0,0,0];let[r]=e;r.length===3&&(r=[...r].map((s)=>s+s).join(""));let n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:(D)=>b.rgbToAnsi256(...b.hexToRgb(D)),enumerable:!1},ansi256ToAnsi:{value:(D)=>{if(D<8)return 30+D;if(D<16)return 90+(D-8);let e,r,n;if(D>=232)e=((D-232)*10+8)/255,r=e,n=e;else{D-=16;let i=D%36;e=Math.floor(D/36)/5,r=Math.floor(i/6)/5,n=i%6/5}let s=Math.max(e,r,n)*2;if(s===0)return 30;let t=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(e));return s===2&&(t+=60),t},enumerable:!1},rgbToAnsi:{value:(D,e,r)=>b.ansi256ToAnsi(b.rgbToAnsi256(D,e,r)),enumerable:!1},hexToAnsi:{value:(D)=>b.ansi256ToAnsi(b.hexToAnsi256(D)),enumerable:!1}}),b}function mD(u,D,e){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map((r)=>ne(r,D,e)).join(`
`)}function RD(u,D){if(typeof u=="string")return nu.aliases.get(u)===D;for(let e of u)if(e!==void 0&&RD(e,D))return!0;return!1}function ie(u,D){if(u===D)return;let e=u.split(`
`),r=D.split(`
`),n=[];for(let s=0;s<Math.max(e.length,r.length);s++)e[s]!==r[s]&&n.push(s);return n}function ru(u,D){let e=u;e.isTTY&&e.setRawMode(D)}class Y{constructor(u,D=!0){w(this,"input"),w(this,"output"),w(this,"_abortSignal"),w(this,"rl"),w(this,"opts"),w(this,"_render"),w(this,"_track",!1),w(this,"_prevFrame",""),w(this,"_subscribers",new Map),w(this,"_cursor",0),w(this,"state","initial"),w(this,"error",""),w(this,"value");let{input:e=Wt,output:r=zt,render:n,signal:s,...t}=u;this.opts=t,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=n.bind(this),this._track=D,this._abortSignal=s,this.input=e,this.output=r}unsubscribe(){this._subscribers.clear()}setSubscriber(u,D){let e=this._subscribers.get(u)??[];e.push(D),this._subscribers.set(u,e)}on(u,D){this.setSubscriber(u,{cb:D})}once(u,D){this.setSubscriber(u,{cb:D,once:!0})}emit(u,...D){let e=this._subscribers.get(u)??[],r=[];for(let n of e)n.cb(...D),n.once&&r.push(()=>e.splice(e.indexOf(n),1));for(let n of r)n()}prompt(){return new Promise((u,D)=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state="cancel",this.close(),u(bD);this._abortSignal.addEventListener("abort",()=>{this.state="cancel",this.close()},{once:!0})}let e=new qt(0);e._write=(r,n,s)=>{this._track&&(this.value=this.rl?.line.replace(/\t/g,""),this._cursor=this.rl?.cursor??0,this.emit("value",this.value)),s()},this.input.pipe(e),this.rl=FD.createInterface({input:this.input,output:e,tabSize:2,prompt:"",escapeCodeTimeout:50}),FD.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),ru(this.input,!0),this.output.on("resize",this.render),this.render(),this.once("submit",()=>{this.output.write(y.cursor.show),this.output.off("resize",this.render),ru(this.input,!1),u(this.value)}),this.once("cancel",()=>{this.output.write(y.cursor.show),this.output.off("resize",this.render),ru(this.input,!1),u(bD)})})}onKeypress(u,D){if(this.state==="error"&&(this.state="active"),D?.name&&(!this._track&&nu.aliases.has(D.name)&&this.emit("cursor",nu.aliases.get(D.name)),nu.actions.has(D.name)&&this.emit("cursor",D.name)),u&&(u.toLowerCase()==="y"||u.toLowerCase()==="n")&&this.emit("confirm",u.toLowerCase()==="y"),u==="\t"&&this.opts.placeholder&&(this.value||(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),u&&this.emit("key",u.toLowerCase()),D?.name==="return"){if(this.opts.validate){let e=this.opts.validate(this.value);e&&(this.error=e instanceof Error?e.message:e,this.state="error",this.rl?.write(this.value))}this.state!=="error"&&(this.state="submit")}RD([u,D?.name,D?.sequence],"cancel")&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),ru(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let u=mD(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(y.cursor.move(-999,u*-1))}render(){let u=mD(this._render(this)??"",process.stdout.columns,{hard:!0});if(u!==this._prevFrame){if(this.state==="initial")this.output.write(y.cursor.hide);else{let D=ie(this._prevFrame,u);if(this.restoreCursor(),D&&D?.length===1){let e=D[0];this.output.write(y.cursor.move(0,e)),this.output.write(y.erase.lines(1));let r=u.split(`
`);this.output.write(r[e]),this._prevFrame=u,this.output.write(y.cursor.move(0,r.length-e-1));return}if(D&&D?.length>1){let e=D[0];this.output.write(y.cursor.move(0,e)),this.output.write(y.erase.down());let r=u.split(`
`).slice(e);this.output.write(r.join(`
`)),this._prevFrame=u;return}this.output.write(y.erase.down())}this.output.write(u),this.state==="initial"&&(this.state="active"),this._prevFrame=u}}}function fe(){return v.platform!=="win32"?v.env.TERM!=="linux":!!v.env.CI||!!v.env.WT_SESSION||!!v.env.TERMINUS_SUBLIME||v.env.ConEmuTask==="{cmd::Cmder}"||v.env.TERM_PROGRAM==="Terminus-Sublime"||v.env.TERM_PROGRAM==="vscode"||v.env.TERM==="xterm-256color"||v.env.TERM==="alacritty"||v.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}async function MD(u,D={}){let e=(r)=>{if(typeof r!=="symbol"||r.toString()!=="Symbol(clack:cancel)")return r;switch(D.cancel){case"reject":{let n=new Error("Prompt cancelled.");if(n.name="ConsolaPromptCancelledError",Error.captureStackTrace)Error.captureStackTrace(n,MD);throw n}case"undefined":return;case"null":return null;case"symbol":return TD;default:case"default":return D.default??D.initial}};if(!D.type||D.type==="text")return await Ae({message:u,defaultValue:D.default,placeholder:D.placeholder,initialValue:D.initial}).then(e);if(D.type==="confirm")return await $e({message:u,initialValue:D.initial}).then(e);if(D.type==="select")return await we({message:u,options:D.options.map((r)=>typeof r==="string"?{value:r,label:r}:r),initialValue:D.initial}).then(e);if(D.type==="multiselect")return await ve({message:u,options:D.options.map((r)=>typeof r==="string"?{value:r,label:r}:r),required:D.required,initialValues:D.initial}).then(e);throw new Error(`Unknown prompt type: ${D.type}`)}var yu,lD,y,eu,hD,Jt,F,Ut,vD,Qt,Ot,Xt=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},Yt,Su=10,CD=(u=0)=>(D)=>`\x1B[${D+u}m`,fD=(u=0)=>(D)=>`\x1B[${38+u};5;${D}m`,ED=(u=0)=>(D,e,r)=>`\x1B[${38+u};2;${D};${e};${r}m`,b,Lt,jt,ue,su,De=39,Tu="\x07",yD="[",te="]",SD="m",Mu,dD=(u)=>`${su.values().next().value}${yD}${u}${SD}`,BD=(u)=>`${su.values().next().value}${Mu}${u}${Tu}`,ee=(u)=>u.split(" ").map((D)=>X(D)),Ru=(u,D,e)=>{let r=[...D],n=!1,s=!1,t=X($D(u[u.length-1]));for(let[i,o]of r.entries()){let a=X(o);if(t+a<=e?u[u.length-1]+=o:(u.push(o),t=0),su.has(o)&&(n=!0,s=r.slice(i+1).join("").startsWith(Mu)),n){s?o===Tu&&(n=!1,s=!1):o===SD&&(n=!1);continue}t+=a,t===e&&i<r.length-1&&(u.push(""),t=0)}!t&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},re=(u)=>{let D=u.split(" "),e=D.length;for(;e>0&&!(X(D[e-1])>0);)e--;return e===D.length?u:D.slice(0,e).join(" ")+D.slice(e).join("")},ne=(u,D,e={})=>{if(e.trim!==!1&&u.trim()==="")return"";let r="",n,s,t=ee(u),i=[""];for(let[a,c]of u.split(" ").entries()){e.trim!==!1&&(i[i.length-1]=i[i.length-1].trimStart());let l=X(i[i.length-1]);if(a!==0&&(l>=D&&(e.wordWrap===!1||e.trim===!1)&&(i.push(""),l=0),(l>0||e.trim===!1)&&(i[i.length-1]+=" ",l++)),e.hard&&t[a]>D){let C=D-l,h=1+Math.floor((t[a]-C-1)/D);Math.floor((t[a]-1)/D)<h&&i.push(""),Ru(i,c,D);continue}if(l+t[a]>D&&l>0&&t[a]>0){if(e.wordWrap===!1&&l<D){Ru(i,c,D);continue}i.push("")}if(l+t[a]>D&&e.wordWrap===!1){Ru(i,c,D);continue}i[i.length-1]+=c}e.trim!==!1&&(i=i.map((a)=>re(a)));let o=[...i.join(`
`)];for(let[a,c]of o.entries()){if(r+=c,su.has(c)){let{groups:C}=new RegExp(`(?:\\${yD}(?<code>\\d+)m|\\${Mu}(?<uri>.*)${Tu})`).exec(o.slice(a).join(""))||{groups:{}};if(C.code!==void 0){let h=Number.parseFloat(C.code);n=h===De?void 0:h}else C.uri!==void 0&&(s=C.uri.length===0?void 0:C.uri)}let l=ue.codes.get(Number(n));o[a+1]===`
`?(s&&(r+=BD("")),n&&l&&(r+=dD(l))):c===`
`&&(n&&l&&(r+=dD(n)),s&&(r+=BD(s)))}return r},se,nu,bD,oe,ae=(u,D,e)=>(D in u)?oe(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,w=(u,D,e)=>(ae(u,typeof D!="symbol"?D+"":D,e),e),ND,ce,Fe=(u,D,e)=>(D in u)?ce(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,gD=(u,D,e)=>(Fe(u,typeof D!="symbol"?D+"":D,e),e),le,he,Ce=(u,D,e)=>(D in u)?he(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,pD=(u,D,e)=>(Ce(u,typeof D!="symbol"?D+"":D,e),e),ID,_D,Ee,S=(u,D)=>Ee?u:D,de,Be,me,be,m,G,Nu,Iu,ge,AD,pe,iu=(u)=>{switch(u){case"initial":case"active":return F.cyan(de);case"cancel":return F.red(Be);case"error":return F.yellow(me);case"submit":return F.green(be)}},_u=(u)=>{let{cursor:D,options:e,style:r}=u,n=u.maxItems??Number.POSITIVE_INFINITY,s=Math.max(process.stdout.rows-4,0),t=Math.min(s,Math.max(n,5)),i=0;D>=i+t-3?i=Math.max(Math.min(D-t+3,e.length-t),0):D<i+2&&(i=Math.max(D-2,0));let o=t<e.length&&i>0,a=t<e.length&&i+t<e.length;return e.slice(i,i+t).map((c,l,C)=>{let h=l===0&&o,f=l===C.length-1&&a;return h||f?F.dim("..."):r(c,l+i===D)})},Ae=(u)=>new _D({validate:u.validate,placeholder:u.placeholder,defaultValue:u.defaultValue,initialValue:u.initialValue,render(){let D=`${F.gray(m)}
${iu(this.state)} ${u.message}
`,e=u.placeholder?F.inverse(u.placeholder[0])+F.dim(u.placeholder.slice(1)):F.inverse(F.hidden("_")),r=this.value?this.valueWithCursor:e;switch(this.state){case"error":return`${D.trim()}
${F.yellow(m)} ${r}
${F.yellow(G)} ${F.yellow(this.error)}
`;case"submit":return`${D}${F.gray(m)} ${F.dim(this.value||u.placeholder)}`;case"cancel":return`${D}${F.gray(m)} ${F.strikethrough(F.dim(this.value??""))}${this.value?.trim()?`
${F.gray(m)}`:""}`;default:return`${D}${F.cyan(m)} ${r}
${F.cyan(G)}
`}}}).prompt(),$e=(u)=>{let D=u.active??"Yes",e=u.inactive??"No";return new ND({active:D,inactive:e,initialValue:u.initialValue??!0,render(){let r=`${F.gray(m)}
${iu(this.state)} ${u.message}
`,n=this.value?D:e;switch(this.state){case"submit":return`${r}${F.gray(m)} ${F.dim(n)}`;case"cancel":return`${r}${F.gray(m)} ${F.strikethrough(F.dim(n))}
${F.gray(m)}`;default:return`${r}${F.cyan(m)} ${this.value?`${F.green(Nu)} ${D}`:`${F.dim(Iu)} ${F.dim(D)}`} ${F.dim("/")} ${this.value?`${F.dim(Iu)} ${F.dim(e)}`:`${F.green(Nu)} ${e}`}
${F.cyan(G)}
`}}}).prompt()},we=(u)=>{let D=(e,r)=>{let n=e.label??String(e.value);switch(r){case"selected":return`${F.dim(n)}`;case"active":return`${F.green(Nu)} ${n} ${e.hint?F.dim(`(${e.hint})`):""}`;case"cancelled":return`${F.strikethrough(F.dim(n))}`;default:return`${F.dim(Iu)} ${F.dim(n)}`}};return new ID({options:u.options,initialValue:u.initialValue,render(){let e=`${F.gray(m)}
${iu(this.state)} ${u.message}
`;switch(this.state){case"submit":return`${e}${F.gray(m)} ${D(this.options[this.cursor],"selected")}`;case"cancel":return`${e}${F.gray(m)} ${D(this.options[this.cursor],"cancelled")}
${F.gray(m)}`;default:return`${e}${F.cyan(m)} ${_u({cursor:this.cursor,options:this.options,maxItems:u.maxItems,style:(r,n)=>D(r,n?"active":"inactive")}).join(`
${F.cyan(m)}  `)}
${F.cyan(G)}
`}}}).prompt()},ve=(u)=>{let D=(e,r)=>{let n=e.label??String(e.value);return r==="active"?`${F.cyan(ge)} ${n} ${e.hint?F.dim(`(${e.hint})`):""}`:r==="selected"?`${F.green(AD)} ${F.dim(n)}`:r==="cancelled"?`${F.strikethrough(F.dim(n))}`:r==="active-selected"?`${F.green(AD)} ${n} ${e.hint?F.dim(`(${e.hint})`):""}`:r==="submitted"?`${F.dim(n)}`:`${F.dim(pe)} ${F.dim(n)}`};return new le({options:u.options,initialValues:u.initialValues,required:u.required??!0,cursorAt:u.cursorAt,validate(e){if(this.required&&e.length===0)return`Please select at least one option.
${F.reset(F.dim(`Press ${F.gray(F.bgWhite(F.inverse(" space ")))} to select, ${F.gray(F.bgWhite(F.inverse(" enter ")))} to submit`))}`},render(){let e=`${F.gray(m)}
${iu(this.state)} ${u.message}
`,r=(n,s)=>{let t=this.value.includes(n.value);return s&&t?D(n,"active-selected"):t?D(n,"selected"):D(n,s?"active":"inactive")};switch(this.state){case"submit":return`${e}${F.gray(m)} ${this.options.filter(({value:n})=>this.value.includes(n)).map((n)=>D(n,"submitted")).join(F.dim(", "))||F.dim("none")}`;case"cancel":{let n=this.options.filter(({value:s})=>this.value.includes(s)).map((s)=>D(s,"cancelled")).join(F.dim(", "));return`${e}${F.gray(m)} ${n.trim()?`${n}
${F.gray(m)}`:""}`}case"error":{let n=this.error.split(`
`).map((s,t)=>t===0?`${F.yellow(G)} ${F.yellow(s)}`:`   ${s}`).join(`
`);return`${e+F.yellow(m)} ${_u({options:this.options,cursor:this.cursor,maxItems:u.maxItems,style:r}).join(`
${F.yellow(m)}  `)}
${n}
`}default:return`${e}${F.cyan(m)} ${_u({options:this.options,cursor:this.cursor,maxItems:u.maxItems,style:r}).join(`
${F.cyan(m)}  `)}
${F.cyan(G)}
`}}}).prompt()},TD;var HD=mt(()=>{y=Gt(),eu={exports:{}};Jt=Pt(),F=Kt(Jt);Ut=Zt();vD={exports:{}};(function(u){var D={};u.exports=D,D.eastAsianWidth=function(r){var n=r.charCodeAt(0),s=r.length==2?r.charCodeAt(1):0,t=n;return 55296<=n&&n<=56319&&56320<=s&&s<=57343&&(n&=1023,s&=1023,t=n<<10|s,t+=65536),t==12288||65281<=t&&t<=65376||65504<=t&&t<=65510?"F":t==8361||65377<=t&&t<=65470||65474<=t&&t<=65479||65482<=t&&t<=65487||65490<=t&&t<=65495||65498<=t&&t<=65500||65512<=t&&t<=65518?"H":4352<=t&&t<=4447||4515<=t&&t<=4519||4602<=t&&t<=4607||9001<=t&&t<=9002||11904<=t&&t<=11929||11931<=t&&t<=12019||12032<=t&&t<=12245||12272<=t&&t<=12283||12289<=t&&t<=12350||12353<=t&&t<=12438||12441<=t&&t<=12543||12549<=t&&t<=12589||12593<=t&&t<=12686||12688<=t&&t<=12730||12736<=t&&t<=12771||12784<=t&&t<=12830||12832<=t&&t<=12871||12880<=t&&t<=13054||13056<=t&&t<=19903||19968<=t&&t<=42124||42128<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||55216<=t&&t<=55238||55243<=t&&t<=55291||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65106||65108<=t&&t<=65126||65128<=t&&t<=65131||110592<=t&&t<=110593||127488<=t&&t<=127490||127504<=t&&t<=127546||127552<=t&&t<=127560||127568<=t&&t<=127569||131072<=t&&t<=194367||177984<=t&&t<=196605||196608<=t&&t<=262141?"W":32<=t&&t<=126||162<=t&&t<=163||165<=t&&t<=166||t==172||t==175||10214<=t&&t<=10221||10629<=t&&t<=10630?"Na":t==161||t==164||167<=t&&t<=168||t==170||173<=t&&t<=174||176<=t&&t<=180||182<=t&&t<=186||188<=t&&t<=191||t==198||t==208||215<=t&&t<=216||222<=t&&t<=225||t==230||232<=t&&t<=234||236<=t&&t<=237||t==240||242<=t&&t<=243||247<=t&&t<=250||t==252||t==254||t==257||t==273||t==275||t==283||294<=t&&t<=295||t==299||305<=t&&t<=307||t==312||319<=t&&t<=322||t==324||328<=t&&t<=331||t==333||338<=t&&t<=339||358<=t&&t<=359||t==363||t==462||t==464||t==466||t==468||t==470||t==472||t==474||t==476||t==593||t==609||t==708||t==711||713<=t&&t<=715||t==717||t==720||728<=t&&t<=731||t==733||t==735||768<=t&&t<=879||913<=t&&t<=929||931<=t&&t<=937||945<=t&&t<=961||963<=t&&t<=969||t==1025||1040<=t&&t<=1103||t==1105||t==8208||8211<=t&&t<=8214||8216<=t&&t<=8217||8220<=t&&t<=8221||8224<=t&&t<=8226||8228<=t&&t<=8231||t==8240||8242<=t&&t<=8243||t==8245||t==8251||t==8254||t==8308||t==8319||8321<=t&&t<=8324||t==8364||t==8451||t==8453||t==8457||t==8467||t==8470||8481<=t&&t<=8482||t==8486||t==8491||8531<=t&&t<=8532||8539<=t&&t<=8542||8544<=t&&t<=8555||8560<=t&&t<=8569||t==8585||8592<=t&&t<=8601||8632<=t&&t<=8633||t==8658||t==8660||t==8679||t==8704||8706<=t&&t<=8707||8711<=t&&t<=8712||t==8715||t==8719||t==8721||t==8725||t==8730||8733<=t&&t<=8736||t==8739||t==8741||8743<=t&&t<=8748||t==8750||8756<=t&&t<=8759||8764<=t&&t<=8765||t==8776||t==8780||t==8786||8800<=t&&t<=8801||8804<=t&&t<=8807||8810<=t&&t<=8811||8814<=t&&t<=8815||8834<=t&&t<=8835||8838<=t&&t<=8839||t==8853||t==8857||t==8869||t==8895||t==8978||9312<=t&&t<=9449||9451<=t&&t<=9547||9552<=t&&t<=9587||9600<=t&&t<=9615||9618<=t&&t<=9621||9632<=t&&t<=9633||9635<=t&&t<=9641||9650<=t&&t<=9651||9654<=t&&t<=9655||9660<=t&&t<=9661||9664<=t&&t<=9665||9670<=t&&t<=9672||t==9675||9678<=t&&t<=9681||9698<=t&&t<=9701||t==9711||9733<=t&&t<=9734||t==9737||9742<=t&&t<=9743||9748<=t&&t<=9749||t==9756||t==9758||t==9792||t==9794||9824<=t&&t<=9825||9827<=t&&t<=9829||9831<=t&&t<=9834||9836<=t&&t<=9837||t==9839||9886<=t&&t<=9887||9918<=t&&t<=9919||9924<=t&&t<=9933||9935<=t&&t<=9953||t==9955||9960<=t&&t<=9983||t==10045||t==10071||10102<=t&&t<=10111||11093<=t&&t<=11097||12872<=t&&t<=12879||57344<=t&&t<=63743||65024<=t&&t<=65039||t==65533||127232<=t&&t<=127242||127248<=t&&t<=127277||127280<=t&&t<=127337||127344<=t&&t<=127386||917760<=t&&t<=917999||983040<=t&&t<=1048573||1048576<=t&&t<=1114109?"A":"N"},D.characterLength=function(r){var n=this.eastAsianWidth(r);return n=="F"||n=="W"||n=="A"?2:1};function e(r){return r.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}D.length=function(r){for(var n=e(r),s=0,t=0;t<n.length;t++)s=s+this.characterLength(n[t]);return s},D.slice=function(r,n,s){textLen=D.length(r),n=n||0,s=s||1,n<0&&(n=textLen+n),s<0&&(s=textLen+s);for(var t="",i=0,o=e(r),a=0;a<o.length;a++){var c=o[a],l=D.length(c);if(i>=n-(l==2?1:0))if(i+l<=s)t+=c;else break;i+=l}return t}})(vD);Qt=vD.exports,Ot=wD(Qt),Yt=wD(Xt);b={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(b.modifier);Lt=Object.keys(b.color),jt=Object.keys(b.bgColor);[...Lt];ue=xt(),su=new Set(["\x1B","\x9B"]),Mu=`${te}8;;`;se=["up","down","left","right","space","enter","cancel"],nu={actions:new Set(se),aliases:new Map([["k","up"],["j","down"],["h","left"],["l","right"],["\x03","cancel"],["escape","cancel"]])};globalThis.process.platform.startsWith("win");bD=Symbol("clack:cancel");oe=Object.defineProperty;ND=class ND extends Y{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(u){super(u,!1),this.value=!!u.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",(D)=>{this.output.write(y.cursor.move(0,-1)),this.value=D,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};ce=Object.defineProperty,le=class extends Y{constructor(u){super(u,!1),gD(this,"options"),gD(this,"cursor",0),this.options=u.options,this.value=[...u.initialValues??[]],this.cursor=Math.max(this.options.findIndex(({value:D})=>D===u.cursorAt),0),this.on("key",(D)=>{D==="a"&&this.toggleAll()}),this.on("cursor",(D)=>{switch(D){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break;case"space":this.toggleValue();break}})}get _value(){return this.options[this.cursor].value}toggleAll(){let u=this.value.length===this.options.length;this.value=u?[]:this.options.map((D)=>D.value)}toggleValue(){let u=this.value.includes(this._value);this.value=u?this.value.filter((D)=>D!==this._value):[...this.value,this._value]}},he=Object.defineProperty;ID=class ID extends Y{constructor(u){super(u,!1),pD(this,"options"),pD(this,"cursor",0),this.options=u.options,this.cursor=this.options.findIndex(({value:D})=>D===u.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",(D)=>{switch(D){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};_D=class _D extends Y{get valueWithCursor(){if(this.state==="submit")return this.value;if(this.cursor>=this.value.length)return`${this.value}\u2588`;let u=this.value.slice(0,this.cursor),[D,...e]=this.value.slice(this.cursor);return`${u}${F.inverse(D)}${e.join("")}`}get cursor(){return this._cursor}constructor(u){super(u),this.on("finalize",()=>{this.value||(this.value=u.defaultValue)})}};Ee=fe(),de=S("\u276F",">"),Be=S("\u25A0","x"),me=S("\u25B2","x"),be=S("\u2714","\u221A"),m=S(""),G=S(""),Nu=S("\u25CF",">"),Iu=S("\u25CB"," "),ge=S("\u25FB","[\u2022]"),AD=S("\u25FC","[+]"),pe=S("\u25FB","[ ]"),TD=Symbol.for("cancel")});var $={silent:Number.NEGATIVE_INFINITY,fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,ready:3,start:3,box:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},pu={silent:{level:-1},fatal:{level:$.fatal},error:{level:$.error},warn:{level:$.warn},log:{level:$.log},info:{level:$.info},success:{level:$.success},fail:{level:$.fail},ready:{level:$.info},start:{level:$.info},box:{level:$.info},debug:{level:$.debug},trace:{level:$.trace},verbose:{level:$.verbose}};function mu(u){if(u===null||typeof u!=="object")return!1;let D=Object.getPrototypeOf(u);if(D!==null&&D!==Object.prototype&&Object.getPrototypeOf(D)!==null)return!1;if(Symbol.iterator in u)return!1;if(Symbol.toStringTag in u)return Object.prototype.toString.call(u)==="[object Module]";return!0}function Au(u,D,e=".",r){if(!mu(D))return Au(u,{},e,r);let n=Object.assign({},D);for(let s in u){if(s==="__proto__"||s==="constructor")continue;let t=u[s];if(t===null||t===void 0)continue;if(r&&r(n,s,t,e))continue;if(Array.isArray(t)&&Array.isArray(n[s]))n[s]=[...t,...n[s]];else if(mu(t)&&mu(n[s]))n[s]=Au(t,n[s],(e?`${e}.`:"")+s.toString(),r);else n[s]=t}return n}function bt(u){return(...D)=>D.reduce((e,r)=>Au(e,r,"",u),{})}var gt=bt();function pt(u){return Object.prototype.toString.call(u)==="[object Object]"}function At(u){if(!pt(u))return!1;if(!u.message&&!u.args)return!1;if(u.stack)return!1;return!0}var bu=!1,tD=[];class A{options;_lastLog;_mockFn;constructor(u={}){let D=u.types||pu;this.options=gt({...u,defaults:{...u.defaults},level:gu(u.level,D),reporters:[...u.reporters||[]]},{types:pu,throttle:1000,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(let e in D){let r={type:e,...this.options.defaults,...D[e]};this[e]=this._wrapLogFn(r),this[e].raw=this._wrapLogFn(r,!0)}if(this.options.mockFn)this.mockTypes();this._lastLog={}}get level(){return this.options.level}set level(u){this.options.level=gu(u,this.options.types,this.options.level)}prompt(u,D){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(u,D)}create(u){let D=new A({...this.options,...u});if(this._mockFn)D.mockTypes(this._mockFn);return D}withDefaults(u){return this.create({...this.options,defaults:{...this.options.defaults,...u}})}withTag(u){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+u:u})}addReporter(u){return this.options.reporters.push(u),this}removeReporter(u){if(u){let D=this.options.reporters.indexOf(u);if(D!==-1)return this.options.reporters.splice(D,1)}else this.options.reporters.splice(0);return this}setReporters(u){return this.options.reporters=Array.isArray(u)?u:[u],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(let u in this.options.types){if(!console["__"+u])console["__"+u]=console[u];console[u]=this[u].raw}}restoreConsole(){for(let u in this.options.types)if(console["__"+u])console[u]=console["__"+u],delete console["__"+u]}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(u,D){if(!u)return;if(!u.__write)u.__write=u.write;u.write=(e)=>{this[D].raw(String(e).trim())}}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(u){if(!u)return;if(u.__write)u.write=u.__write,delete u.__write}pauseLogs(){bu=!0}resumeLogs(){bu=!1;let u=tD.splice(0);for(let D of u)D[0]._logFn(D[1],D[2])}mockTypes(u){let D=u||this.options.mockFn;if(this._mockFn=D,typeof D!=="function")return;for(let e in this.options.types)this[e]=D(e,this.options.types[e])||this[e],this[e].raw=this[e]}_wrapLogFn(u,D){return(...e)=>{if(bu){tD.push([this,u,e,D]);return}return this._logFn(u,e,D)}}_logFn(u,D,e){if((u.level||0)>this.level)return!1;let r={date:new Date,args:[],...u,level:gu(u.level,this.options.types)};if(!e&&D.length===1&&At(D[0]))Object.assign(r,D[0]);else r.args=[...D];if(r.message)r.args.unshift(r.message),delete r.message;if(r.additional){if(!Array.isArray(r.additional))r.additional=r.additional.split(`
`);r.args.push(`
`+r.additional.join(`
`)),delete r.additional}r.type=typeof r.type==="string"?r.type.toLowerCase():"log",r.tag=typeof r.tag==="string"?r.tag:"";let n=(t=!1)=>{let i=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&i>0){let o=[...this._lastLog.object.args];if(i>1)o.push(`(repeated ${i} times)`);this._log({...this._lastLog.object,args:o}),this._lastLog.count=1}if(t)this._lastLog.object=r,this._log(r)};clearTimeout(this._lastLog.timeout);let s=this._lastLog.time&&r.date?r.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=r.date,s<this.options.throttle)try{let t=JSON.stringify([r.type,r.tag,r.args]),i=this._lastLog.serialized===t;if(this._lastLog.serialized=t,i){if(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin){this._lastLog.timeout=setTimeout(n,this.options.throttle);return}}}catch{}n(!0)}_log(u){for(let D of this.options.reporters)D.log(u,{options:this.options})}}function gu(u,D={},e=3){if(u===void 0)return e;if(typeof u==="number")return u;if(D[u]&&D[u].level!==void 0)return D[u].level;return e}A.prototype.add=A.prototype.addReporter;A.prototype.remove=A.prototype.removeReporter;A.prototype.clear=A.prototype.removeReporter;A.prototype.withScope=A.prototype.withTag;A.prototype.mock=A.prototype.mockTypes;A.prototype.pause=A.prototype.pauseLogs;A.prototype.resume=A.prototype.resumeLogs;function eD(u={}){return new A(u)}import{formatWithOptions as rD}from"util";import{sep as $t}from"path";function wu(u){let D=process.cwd()+$t;return u.split(`
`).splice(1).map((r)=>r.trim().replace("file://","").replace(D,""))}function wt(u,D){return(D.__write||D.write).call(D,u)}var $u=(u)=>u?`[${u}]`:"";class Du{formatStack(u,D){let e="  ".repeat((D?.errorLevel||0)+1);return e+wu(u).join(`
${e}`)}formatError(u,D){let e=u.message??rD(D,u),r=u.stack?this.formatStack(u.stack,D):"",n=D?.errorLevel||0,s=n>0?`${"  ".repeat(n)}[cause]: `:"",t=u.cause?`

`+this.formatError(u.cause,{...D,errorLevel:n+1}):"";return s+e+`
`+r+t}formatArgs(u,D){let e=u.map((r)=>{if(r&&typeof r.stack==="string")return this.formatError(r,D);return r});return rD(D,...e)}formatDate(u,D){return D.date?u.toLocaleTimeString():""}filterAndJoin(u){return u.filter(Boolean).join(" ")}formatLogObj(u,D){let e=this.formatArgs(u.args,D);if(u.type==="box")return`
`+[$u(u.tag),u.title&&u.title,...e.split(`
`)].filter(Boolean).map((r)=>" > "+r).join(`
`)+`
`;return this.filterAndJoin([$u(u.type),$u(u.tag),e])}log(u,D){let e=this.formatLogObj(u,{columns:D.options.stdout.columns||0,...D.options.formatOptions});return wt(e+`
`,u.level<2?D.options.stderr||process.stderr:D.options.stdout||process.stdout)}}import kD from"process";import*as tu from"tty";var{env:M={},argv:iD=[],platform:vt=""}=typeof process==="undefined"?{}:process,yt="NO_COLOR"in M||iD.includes("--no-color"),St="FORCE_COLOR"in M||iD.includes("--color"),Rt=vt==="win32",oD=M.TERM==="dumb",Nt=tu&&tu.isatty&&tu.isatty(1)&&M.TERM&&!oD,It="CI"in M&&(("GITHUB_ACTIONS"in M)||("GITLAB_CI"in M)||("CIRCLECI"in M)),_t=!yt&&(St||Rt&&!oD||Nt||It);function aD(u,D,e,r,n=D.slice(0,Math.max(0,u))+r,s=D.slice(Math.max(0,u+e.length)),t=s.indexOf(e)){return n+(t<0?s:aD(t,s,e,r))}function Tt(u,D,e,r,n){return u<0?e+D+r:e+aD(u,D,r,n)+r}function Mt(u,D,e=u,r=u.length+1){return(n)=>n||!(n===""||n===void 0)?Tt((""+n).indexOf(D,r),n,u,D,e):""}function E(u,D,e){return Mt(`\x1B[${u}m`,`\x1B[${D}m`,e)}var nD={reset:E(0,0),bold:E(1,22,"\x1B[22m\x1B[1m"),dim:E(2,22,"\x1B[22m\x1B[2m"),italic:E(3,23),underline:E(4,24),inverse:E(7,27),hidden:E(8,28),strikethrough:E(9,29),black:E(30,39),red:E(31,39),green:E(32,39),yellow:E(33,39),blue:E(34,39),magenta:E(35,39),cyan:E(36,39),white:E(37,39),gray:E(90,39),bgBlack:E(40,49),bgRed:E(41,49),bgGreen:E(42,49),bgYellow:E(43,49),bgBlue:E(44,49),bgMagenta:E(45,49),bgCyan:E(46,49),bgWhite:E(47,49),blackBright:E(90,39),redBright:E(91,39),greenBright:E(92,39),yellowBright:E(93,39),blueBright:E(94,39),magentaBright:E(95,39),cyanBright:E(96,39),whiteBright:E(97,39),bgBlackBright:E(100,49),bgRedBright:E(101,49),bgGreenBright:E(102,49),bgYellowBright:E(103,49),bgBlueBright:E(104,49),bgMagentaBright:E(105,49),bgCyanBright:E(106,49),bgWhiteBright:E(107,49)};function Vt(u=_t){return u?nD:Object.fromEntries(Object.keys(nD).map((D)=>[D,String]))}var B=Vt();function cD(u,D="reset"){return B[u]||B[D]}var Ht=[String.raw`[\u001B\u009B][[\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\d\/#&.:=?%@~_]+)*|[a-zA-Z\d]+(?:;[-a-zA-Z\d\/#&.:=?%@~_]*)*)?\u0007)`,String.raw`(?:(?:\d{1,4}(?:;\d{0,4})*)?[\dA-PR-TZcf-nq-uy=><~]))`].join("|");function T(u){return u.replace(new RegExp(Ht,"g"),"")}var sD={solid:{tl:"\u250C",tr:"\u2510",bl:"\u2514",br:"\u2518",h:"\u2500",v:"\u2502"},double:{tl:"\u2554",tr:"\u2557",bl:"\u255A",br:"\u255D",h:"\u2550",v:"\u2551"},doubleSingle:{tl:"\u2553",tr:"\u2556",bl:"\u2559",br:"\u255C",h:"\u2500",v:"\u2551"},doubleSingleRounded:{tl:"\u256D",tr:"\u256E",bl:"\u2570",br:"\u256F",h:"\u2500",v:"\u2551"},singleThick:{tl:"\u250F",tr:"\u2513",bl:"\u2517",br:"\u251B",h:"\u2501",v:"\u2503"},singleDouble:{tl:"\u2552",tr:"\u2555",bl:"\u2558",br:"\u255B",h:"\u2550",v:"\u2502"},singleDoubleRounded:{tl:"\u256D",tr:"\u256E",bl:"\u2570",br:"\u256F",h:"\u2550",v:"\u2502"},rounded:{tl:"\u256D",tr:"\u256E",bl:"\u2570",br:"\u256F",h:"\u2500",v:"\u2502"}},kt={borderColor:"white",borderStyle:"rounded",valign:"center",padding:2,marginLeft:1,marginTop:1,marginBottom:1};function vu(u,D={}){let e={...D,style:{...kt,...D.style}},r=u.split(`
`),n=[],s=cD(e.style.borderColor),t={...typeof e.style.borderStyle==="string"?sD[e.style.borderStyle]||sD.solid:e.style.borderStyle};if(s)for(let h in t)t[h]=s(t[h]);let i=e.style.padding%2===0?e.style.padding:e.style.padding+1,o=r.length+i,a=Math.max(...r.map((h)=>T(h).length))+i,c=a+i,l=e.style.marginLeft>0?" ".repeat(e.style.marginLeft):"";if(e.style.marginTop>0)n.push("".repeat(e.style.marginTop));if(e.title){let h=s?s(e.title):e.title,f=t.h.repeat(Math.floor((a-T(e.title).length)/2)),d=t.h.repeat(a-T(e.title).length-T(f).length+i);n.push(`${l}${t.tl}${f}${h}${d}${t.tr}`)}else n.push(`${l}${t.tl}${t.h.repeat(c)}${t.tr}`);let C=e.style.valign==="center"?Math.floor((o-r.length)/2):e.style.valign==="top"?o-r.length-i:o-r.length;for(let h=0;h<o;h++)if(h<C||h>=C+r.length)n.push(`${l}${t.v}${" ".repeat(c)}${t.v}`);else{let f=r[h-C],d=" ".repeat(i),g=" ".repeat(a-T(f).length);n.push(`${l}${t.v}${d}${f}${g}${t.v}`)}if(n.push(`${l}${t.bl}${t.h.repeat(c)}${t.br}`),e.style.marginBottom>0)n.push("".repeat(e.style.marginBottom));return n.join(`
`)}var au=Object.create(null),L=(u)=>globalThis.process?.env||import.meta.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(u?au:globalThis),V=new Proxy(au,{get(u,D){return L()[D]??au[D]},has(u,D){let e=L();return D in e||D in au},set(u,D,e){let r=L(!0);return r[D]=e,!0},deleteProperty(u,D){if(!D)return!1;let e=L(!0);return delete e[D],!0},ownKeys(){let u=L(!0);return Object.keys(u)}}),ye=typeof process<"u"&&process.env&&"development"||"",Se=[["APPVEYOR"],["AWS_AMPLIFY","AWS_APP_ID",{ci:!0}],["AZURE_PIPELINES","SYSTEM_TEAMFOUNDATIONCOLLECTIONURI"],["AZURE_STATIC","INPUT_AZURE_STATIC_WEB_APPS_API_TOKEN"],["APPCIRCLE","AC_APPCIRCLE"],["BAMBOO","bamboo_planKey"],["BITBUCKET","BITBUCKET_COMMIT"],["BITRISE","BITRISE_IO"],["BUDDY","BUDDY_WORKSPACE_ID"],["BUILDKITE"],["CIRCLE","CIRCLECI"],["CIRRUS","CIRRUS_CI"],["CLOUDFLARE_PAGES","CF_PAGES",{ci:!0}],["CODEBUILD","CODEBUILD_BUILD_ARN"],["CODEFRESH","CF_BUILD_ID"],["DRONE"],["DRONE","DRONE_BUILD_EVENT"],["DSARI"],["GITHUB_ACTIONS"],["GITLAB","GITLAB_CI"],["GITLAB","CI_MERGE_REQUEST_ID"],["GOCD","GO_PIPELINE_LABEL"],["LAYERCI"],["HUDSON","HUDSON_URL"],["JENKINS","JENKINS_URL"],["MAGNUM"],["NETLIFY"],["NETLIFY","NETLIFY_LOCAL",{ci:!1}],["NEVERCODE"],["RENDER"],["SAIL","SAILCI"],["SEMAPHORE"],["SCREWDRIVER"],["SHIPPABLE"],["SOLANO","TDDIUM"],["STRIDER"],["TEAMCITY","TEAMCITY_VERSION"],["TRAVIS"],["VERCEL","NOW_BUILDER"],["VERCEL","VERCEL",{ci:!1}],["VERCEL","VERCEL_ENV",{ci:!1}],["APPCENTER","APPCENTER_BUILD_ID"],["CODESANDBOX","CODESANDBOX_SSE",{ci:!1}],["STACKBLITZ"],["STORMKIT"],["CLEAVR"],["ZEABUR"],["CODESPHERE","CODESPHERE_APP_ID",{ci:!0}],["RAILWAY","RAILWAY_PROJECT_ID"],["RAILWAY","RAILWAY_SERVICE_ID"],["DENO-DEPLOY","DENO_DEPLOYMENT_ID"],["FIREBASE_APP_HOSTING","FIREBASE_APP_HOSTING",{ci:!0}]];function Re(){if(globalThis.process?.env)for(let u of Se){let D=u[1]||u[0];if(globalThis.process?.env[D])return{name:u[0].toLowerCase(),...u[2]}}return globalThis.process?.env?.SHELL==="/bin/jsh"&&globalThis.process?.versions?.webcontainer?{name:"stackblitz",ci:!1}:{name:"",ci:!1}}var KD=Re();KD.name;function W(u){return u?u!=="false":!1}var Ne=globalThis.process?.platform||"",Vu=W(V.CI)||KD.ci!==!1,GD=W(globalThis.process?.stdout&&globalThis.process?.stdout.isTTY),Ie=W(V.DEBUG),Hu=ye==="test"||W(V.TEST);W(V.MINIMAL);var _e=/^win/i.test(Ne);!W(V.NO_COLOR)&&(W(V.FORCE_COLOR)||(GD||_e)&&V.TERM);var Te=(globalThis.process?.versions?.node||"").replace(/^v/,"")||null;Number(Te?.split(".")[0]);var Me=globalThis.process||Object.create(null),WD={versions:{}};new Proxy(Me,{get(u,D){if(D==="env")return V;if(D in u)return u[D];if(D in WD)return WD[D]}});var Ve=globalThis.process?.release?.name==="node",He=!!globalThis.Bun||!!globalThis.process?.versions?.bun,ke=!!globalThis.Deno,We=!!globalThis.fastly,ze=!!globalThis.Netlify,qe=!!globalThis.EdgeRuntime,Ke=globalThis.navigator?.userAgent==="Cloudflare-Workers",Ge=[[ze,"netlify"],[qe,"edge-light"],[Ke,"workerd"],[We,"fastly"],[ke,"deno"],[He,"bun"],[Ve,"node"]];function Pe(){let u=Ge.find((D)=>D[0]);if(u)return{name:u[1]}}var Je=Pe();Je?.name;function Ze({onlyFirst:u=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(e,u?void 0:"g")}var Ue=Ze();function Qe(u){if(typeof u!=="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(Ue,"")}function Oe(u){return u===161||u===164||u===167||u===168||u===170||u===173||u===174||u>=176&&u<=180||u>=182&&u<=186||u>=188&&u<=191||u===198||u===208||u===215||u===216||u>=222&&u<=225||u===230||u>=232&&u<=234||u===236||u===237||u===240||u===242||u===243||u>=247&&u<=250||u===252||u===254||u===257||u===273||u===275||u===283||u===294||u===295||u===299||u>=305&&u<=307||u===312||u>=319&&u<=322||u===324||u>=328&&u<=331||u===333||u===338||u===339||u===358||u===359||u===363||u===462||u===464||u===466||u===468||u===470||u===472||u===474||u===476||u===593||u===609||u===708||u===711||u>=713&&u<=715||u===717||u===720||u>=728&&u<=731||u===733||u===735||u>=768&&u<=879||u>=913&&u<=929||u>=931&&u<=937||u>=945&&u<=961||u>=963&&u<=969||u===1025||u>=1040&&u<=1103||u===1105||u===8208||u>=8211&&u<=8214||u===8216||u===8217||u===8220||u===8221||u>=8224&&u<=8226||u>=8228&&u<=8231||u===8240||u===8242||u===8243||u===8245||u===8251||u===8254||u===8308||u===8319||u>=8321&&u<=8324||u===8364||u===8451||u===8453||u===8457||u===8467||u===8470||u===8481||u===8482||u===8486||u===8491||u===8531||u===8532||u>=8539&&u<=8542||u>=8544&&u<=8555||u>=8560&&u<=8569||u===8585||u>=8592&&u<=8601||u===8632||u===8633||u===8658||u===8660||u===8679||u===8704||u===8706||u===8707||u===8711||u===8712||u===8715||u===8719||u===8721||u===8725||u===8730||u>=8733&&u<=8736||u===8739||u===8741||u>=8743&&u<=8748||u===8750||u>=8756&&u<=8759||u===8764||u===8765||u===8776||u===8780||u===8786||u===8800||u===8801||u>=8804&&u<=8807||u===8810||u===8811||u===8814||u===8815||u===8834||u===8835||u===8838||u===8839||u===8853||u===8857||u===8869||u===8895||u===8978||u>=9312&&u<=9449||u>=9451&&u<=9547||u>=9552&&u<=9587||u>=9600&&u<=9615||u>=9618&&u<=9621||u===9632||u===9633||u>=9635&&u<=9641||u===9650||u===9651||u===9654||u===9655||u===9660||u===9661||u===9664||u===9665||u>=9670&&u<=9672||u===9675||u>=9678&&u<=9681||u>=9698&&u<=9701||u===9711||u===9733||u===9734||u===9737||u===9742||u===9743||u===9756||u===9758||u===9792||u===9794||u===9824||u===9825||u>=9827&&u<=9829||u>=9831&&u<=9834||u===9836||u===9837||u===9839||u===9886||u===9887||u===9919||u>=9926&&u<=9933||u>=9935&&u<=9939||u>=9941&&u<=9953||u===9955||u===9960||u===9961||u>=9963&&u<=9969||u===9972||u>=9974&&u<=9977||u===9979||u===9980||u===9982||u===9983||u===10045||u>=10102&&u<=10111||u>=11094&&u<=11097||u>=12872&&u<=12879||u>=57344&&u<=63743||u>=65024&&u<=65039||u===65533||u>=127232&&u<=127242||u>=127248&&u<=127277||u>=127280&&u<=127337||u>=127344&&u<=127373||u===127375||u===127376||u>=127387&&u<=127404||u>=917760&&u<=917999||u>=983040&&u<=1048573||u>=1048576&&u<=1114109}function Xe(u){return u===12288||u>=65281&&u<=65376||u>=65504&&u<=65510}function Ye(u){return u>=4352&&u<=4447||u===8986||u===8987||u===9001||u===9002||u>=9193&&u<=9196||u===9200||u===9203||u===9725||u===9726||u===9748||u===9749||u>=9776&&u<=9783||u>=9800&&u<=9811||u===9855||u>=9866&&u<=9871||u===9875||u===9889||u===9898||u===9899||u===9917||u===9918||u===9924||u===9925||u===9934||u===9940||u===9962||u===9970||u===9971||u===9973||u===9978||u===9981||u===9989||u===9994||u===9995||u===10024||u===10060||u===10062||u>=10067&&u<=10069||u===10071||u>=10133&&u<=10135||u===10160||u===10175||u===11035||u===11036||u===11088||u===11093||u>=11904&&u<=11929||u>=11931&&u<=12019||u>=12032&&u<=12245||u>=12272&&u<=12287||u>=12289&&u<=12350||u>=12353&&u<=12438||u>=12441&&u<=12543||u>=12549&&u<=12591||u>=12593&&u<=12686||u>=12688&&u<=12773||u>=12783&&u<=12830||u>=12832&&u<=12871||u>=12880&&u<=42124||u>=42128&&u<=42182||u>=43360&&u<=43388||u>=44032&&u<=55203||u>=63744&&u<=64255||u>=65040&&u<=65049||u>=65072&&u<=65106||u>=65108&&u<=65126||u>=65128&&u<=65131||u>=94176&&u<=94180||u===94192||u===94193||u>=94208&&u<=100343||u>=100352&&u<=101589||u>=101631&&u<=101640||u>=110576&&u<=110579||u>=110581&&u<=110587||u===110589||u===110590||u>=110592&&u<=110882||u===110898||u>=110928&&u<=110930||u===110933||u>=110948&&u<=110951||u>=110960&&u<=111355||u>=119552&&u<=119638||u>=119648&&u<=119670||u===126980||u===127183||u===127374||u>=127377&&u<=127386||u>=127488&&u<=127490||u>=127504&&u<=127547||u>=127552&&u<=127560||u===127568||u===127569||u>=127584&&u<=127589||u>=127744&&u<=127776||u>=127789&&u<=127797||u>=127799&&u<=127868||u>=127870&&u<=127891||u>=127904&&u<=127946||u>=127951&&u<=127955||u>=127968&&u<=127984||u===127988||u>=127992&&u<=128062||u===128064||u>=128066&&u<=128252||u>=128255&&u<=128317||u>=128331&&u<=128334||u>=128336&&u<=128359||u===128378||u===128405||u===128406||u===128420||u>=128507&&u<=128591||u>=128640&&u<=128709||u===128716||u>=128720&&u<=128722||u>=128725&&u<=128727||u>=128732&&u<=128735||u===128747||u===128748||u>=128756&&u<=128764||u>=128992&&u<=129003||u===129008||u>=129292&&u<=129338||u>=129340&&u<=129349||u>=129351&&u<=129535||u>=129648&&u<=129660||u>=129664&&u<=129673||u>=129679&&u<=129734||u>=129742&&u<=129756||u>=129759&&u<=129769||u>=129776&&u<=129784||u>=131072&&u<=196605||u>=196608&&u<=262141}function Le(u){if(!Number.isSafeInteger(u))throw new TypeError(`Expected a code point, got \`${typeof u}\`.`)}function je(u,{ambiguousAsWide:D=!1}={}){if(Le(u),Xe(u)||Ye(u)||D&&Oe(u))return 2;return 1}var xe=()=>{return/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g},ur=globalThis.Intl?.Segmenter?new Intl.Segmenter:{segment:(u)=>u.split("")},Dr=/^\p{Default_Ignorable_Code_Point}$/u;function tr(u,D={}){if(typeof u!=="string"||u.length===0)return 0;let{ambiguousIsNarrow:e=!0,countAnsiEscapeCodes:r=!1}=D;if(!r)u=Qe(u);if(u.length===0)return 0;let n=0,s={ambiguousAsWide:!e};for(let{segment:t}of ur.segment(u)){let i=t.codePointAt(0);if(i<=31||i>=127&&i<=159)continue;if(i>=8203&&i<=8207||i===65279)continue;if(i>=768&&i<=879||i>=6832&&i<=6911||i>=7616&&i<=7679||i>=8400&&i<=8447||i>=65056&&i<=65071)continue;if(i>=55296&&i<=57343)continue;if(i>=65024&&i<=65039)continue;if(Dr.test(t))continue;if(xe().test(t)){n+=2;continue}n+=je(i,s)}return n}function er(){let{env:u}=kD,{TERM:D,TERM_PROGRAM:e}=u;if(kD.platform!=="win32")return D!=="linux";return Boolean(u.WT_SESSION)||Boolean(u.TERMINUS_SUBLIME)||u.ConEmuTask==="{cmd::Cmder}"||e==="Terminus-Sublime"||e==="vscode"||D==="xterm-256color"||D==="alacritty"||D==="rxvt-unicode"||D==="rxvt-unicode-256color"||u.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var rr={info:"cyan",fail:"red",success:"green",ready:"green",start:"magenta"},nr={0:"red",1:"yellow"},sr=er(),N=(u,D)=>sr?u:D,zD={error:N("\u2716","\xD7"),fatal:N("\u2716","\xD7"),ready:N("\u2714","\u221A"),warn:N("\u26A0","\u203C"),info:N("\u2139","i"),success:N("\u2714","\u221A"),debug:N("\u2699","D"),trace:N("\u2192","\u2192"),fail:N("\u2716","\xD7"),start:N("\u25D0","o"),log:""};function qD(u){if(typeof Intl!=="object"||!Intl.Segmenter)return T(u).length;return tr(u)}class PD extends Du{formatStack(u,D){let e="  ".repeat((D?.errorLevel||0)+1);return`
${e}`+wu(u).map((r)=>"  "+r.replace(/^at +/,(n)=>B.gray(n)).replace(/\((.+)\)/,(n,s)=>`(${B.cyan(s)})`)).join(`
${e}`)}formatType(u,D,e){let r=rr[u.type]||nr[u.level]||"gray";if(D)return or(r)(B.black(` ${u.type.toUpperCase()} `));let n=typeof zD[u.type]==="string"?zD[u.type]:u.icon||u.type;return n?ir(r)(n):""}formatLogObj(u,D){let[e,...r]=this.formatArgs(u.args,D).split(`
`);if(u.type==="box")return vu(ou(e+(r.length>0?`
`+r.join(`
`):"")),{title:u.title?ou(u.title):void 0,style:u.style});let n=this.formatDate(u.date,D),s=n&&B.gray(n),t=u.badge??u.level<2,i=this.formatType(u,t,D),o=u.tag?B.gray(u.tag):"",a,c=this.filterAndJoin([i,ou(e)]),l=this.filterAndJoin(D.columns?[o,s]:[o]),C=(D.columns||0)-qD(c)-qD(l)-2;if(a=C>0&&(D.columns||0)>=80?c+" ".repeat(C)+l:(l?`${B.gray(`[${l}]`)} `:"")+c,a+=ou(r.length>0?`
`+r.join(`
`):""),u.type==="trace"){let h=new Error("Trace: "+u.message);a+=this.formatStack(h.stack||"")}return t?`
`+a+`
`:a}}function ou(u){return u.replace(/`([^`]+)`/gm,(D,e)=>B.cyan(e)).replace(/\s+_([^_]+)_\s+/gm,(D,e)=>` ${B.underline(e)} `)}function ir(u="white"){return B[u]||B.white}function or(u="bgWhite"){return B[`bg${u[0].toUpperCase()}${u.slice(1)}`]||B.bgWhite}function ar(u={}){let D=cr();if(process.env.CONSOLA_LEVEL)D=Number.parseInt(process.env.CONSOLA_LEVEL)??D;return eD({level:D,defaults:{level:D},stdout:process.stdout,stderr:process.stderr,prompt:(...r)=>Promise.resolve().then(() => (HD(),VD)).then((n)=>n.prompt(...r)),reporters:u.reporters||[u.fancy??!(Vu||Hu)?new PD:new Du],...u})}function cr(){if(Ie)return $.debug;if(Hu)return $.warn;return $.info}var P=ar();function Fr(u){if(Array.isArray(u))return u;return u===void 0?[]:[u]}function ku(u,D=""){let e=[];for(let r of u)for(let[n,s]of r.entries())e[n]=Math.max(e[n]||0,s.length);return u.map((r)=>r.map((n,s)=>D+n[s===0?"padStart":"padEnd"](e[s])).join("  ")).join(`
`)}function R(u){return typeof u==="function"?u():u}class z extends Error{constructor(u,D){super(u);this.code=D,this.name="CLIError"}}var lr=/\d/,hr=["-","_","/","."];function Cr(u=""){if(lr.test(u))return;return u!==u.toLowerCase()}function JD(u,D){let e=D??hr,r=[];if(!u||typeof u!=="string")return r;let n="",s,t;for(let i of u){let o=e.includes(i);if(o===!0){r.push(n),n="",s=void 0;continue}let a=Cr(i);if(t===!1){if(s===!1&&a===!0){r.push(n),n=i,s=a;continue}if(s===!0&&a===!1&&n.length>1){let c=n.at(-1);r.push(n.slice(0,Math.max(0,n.length-1))),n=c+i,s=a;continue}}n+=i,s=a,t=o}return r.push(n),r}function fr(u){return u?u[0].toUpperCase()+u.slice(1):""}function Er(u){return u?u[0].toLowerCase()+u.slice(1):""}function dr(u,D){return u?(Array.isArray(u)?u:JD(u)).map((e)=>fr(D?.normalize?e.toLowerCase():e)).join(""):""}function Br(u,D){return Er(dr(u||"",D))}function mr(u,D){return u?(Array.isArray(u)?u:JD(u)).map((e)=>e.toLowerCase()).join(D??"-"):""}function Wu(u){return u==null?[]:Array.isArray(u)?u:[u]}function br(u,D,e,r){let n,s=u[D],t=~r.string.indexOf(D)?e==null||e===!0?"":String(e):typeof e==="boolean"?e:~r.boolean.indexOf(D)?e==="false"?!1:e==="true"||(u._.push((n=+e,n*0===0)?n:e),!!e):(n=+e,n*0===0)?n:e;u[D]=s==null?t:Array.isArray(s)?s.concat(t):[s,t]}function gr(u=[],D={}){let e,r,n,s,t,i={_:[]},o=0,a=0,c=0,l=u.length,C=D.alias!==void 0,h=D.unknown!==void 0,f=D.default!==void 0;if(D.alias=D.alias||{},D.string=Wu(D.string),D.boolean=Wu(D.boolean),C)for(e in D.alias){r=D.alias[e]=Wu(D.alias[e]);for(o=0;o<r.length;o++)(D.alias[r[o]]=r.concat(e)).splice(o,1)}for(o=D.boolean.length;o-- >0;){r=D.alias[D.boolean[o]]||[];for(a=r.length;a-- >0;)D.boolean.push(r[a])}for(o=D.string.length;o-- >0;){r=D.alias[D.string[o]]||[];for(a=r.length;a-- >0;)D.string.push(r[a])}if(f){for(e in D.default)if(s=typeof D.default[e],r=D.alias[e]=D.alias[e]||[],D[s]!==void 0){D[s].push(e);for(o=0;o<r.length;o++)D[s].push(r[o])}}let d=h?Object.keys(D.alias):[];for(o=0;o<l;o++){if(n=u[o],n==="--"){i._=i._.concat(u.slice(++o));break}for(a=0;a<n.length;a++)if(n.charCodeAt(a)!==45)break;if(a===0)i._.push(n);else if(n.substring(a,a+3)==="no-"){if(s=n.slice(Math.max(0,a+3)),h&&!~d.indexOf(s))return D.unknown(n);i[s]=!1}else{for(c=a+1;c<n.length;c++)if(n.charCodeAt(c)===61)break;s=n.substring(a,c),t=n.slice(Math.max(0,++c))||o+1===l||(""+u[o+1]).charCodeAt(0)===45||u[++o],r=a===2?[s]:s;for(c=0;c<r.length;c++){if(s=r[c],h&&!~d.indexOf(s))return D.unknown("-".repeat(a)+s);br(i,s,c+1<r.length||t,D)}}}if(f){for(e in D.default)if(i[e]===void 0)i[e]=D.default[e]}if(C)for(e in i){r=D.alias[e]||[];while(r.length>0)i[r.shift()]=i[e]}return i}function pr(u,D){let e={boolean:[],string:[],mixed:[],alias:{},default:{}},r=ZD(D);for(let i of r){if(i.type==="positional")continue;if(i.type==="string")e.string.push(i.name);else if(i.type==="boolean")e.boolean.push(i.name);if(i.default!==void 0)e.default[i.name]=i.default;if(i.alias)e.alias[i.name]=i.alias}let n=gr(u,e),[...s]=n._,t=new Proxy(n,{get(i,o){return i[o]??i[Br(o)]??i[mr(o)]}});for(let[,i]of r.entries())if(i.type==="positional"){let o=s.shift();if(o!==void 0)t[i.name]=o;else if(i.default===void 0&&i.required!==!1)throw new z(`Missing required positional argument: ${i.name.toUpperCase()}`,"EARG");else t[i.name]=i.default}else if(i.required&&t[i.name]===void 0)throw new z(`Missing required argument: --${i.name}`,"EARG");return t}function ZD(u){let D=[];for(let[e,r]of Object.entries(u||{}))D.push({...r,name:e,alias:Fr(r.alias)});return D}function H(u){return u}async function UD(u,D){let e=await R(u.args||{}),r=pr(D.rawArgs,e),n={rawArgs:D.rawArgs,args:r,data:D.data,cmd:u};if(typeof u.setup==="function")await u.setup(n);let s;try{let t=await R(u.subCommands);if(t&&Object.keys(t).length>0){let i=D.rawArgs.findIndex((a)=>!a.startsWith("-")),o=D.rawArgs[i];if(o){if(!t[o])throw new z(`Unknown command \`${o}\``,"E_UNKNOWN_COMMAND");let a=await R(t[o]);if(a)await UD(a,{rawArgs:D.rawArgs.slice(i+1)})}else if(!u.run)throw new z("No command specified.","E_NO_COMMAND")}if(typeof u.run==="function")s=await u.run(n)}finally{if(typeof u.cleanup==="function")await u.cleanup(n)}return{result:s}}async function zu(u,D,e){let r=await R(u.subCommands);if(r&&Object.keys(r).length>0){let n=D.findIndex((i)=>!i.startsWith("-")),s=D[n],t=await R(r[s]);if(t)return zu(t,D.slice(n+1),u)}return[u,e]}async function Ar(u,D){try{P.log(await $r(u,D)+`
`)}catch(e){P.error(e)}}async function $r(u,D){let e=await R(u.meta||{}),r=ZD(await R(u.args||{})),n=await R(D?.meta||{}),s=`${n.name?`${n.name} `:""}`+(e.name||process.argv[1]),t=[],i=[],o=[],a=[];for(let h of r)if(h.type==="positional"){let f=h.name.toUpperCase(),d=h.required!==!1&&h.default===void 0,g=h.default?`="${h.default}"`:"";i.push(["`"+f+g+"`",h.description||"",h.valueHint?`<${h.valueHint}>`:""]),a.push(d?`<${f}>`:`[${f}]`)}else{let f=h.required===!0&&h.default===void 0,d=(h.type==="boolean"&&h.default===!0?[...(h.alias||[]).map((g)=>`--no-${g}`),`--no-${h.name}`].join(", "):[...(h.alias||[]).map((g)=>`-${g}`),`--${h.name}`].join(", "))+(h.type==="string"&&(h.valueHint||h.default)?`=${h.valueHint?`<${h.valueHint}>`:`"${h.default||""}"`}`:"");if(t.push(["`"+d+(f?" (required)":"")+"`",h.description||""]),f)a.push(d)}if(u.subCommands){let h=[],f=await R(u.subCommands);for(let[d,g]of Object.entries(f)){let I=await R(g),k=await R(I?.meta);o.push([`\`${d}\``,k?.description||""]),h.push(d)}a.push(h.join("|"))}let c=[],l=e.version||n.version;c.push(B.gray(`${e.description} (${s+(l?` v${l}`:"")})`),"");let C=t.length>0||i.length>0;if(c.push(`${B.underline(B.bold("USAGE"))} \`${s}${C?" [OPTIONS]":""} ${a.join(" ")}\``,""),i.length>0)c.push(B.underline(B.bold("ARGUMENTS")),""),c.push(ku(i,"  ")),c.push("");if(t.length>0)c.push(B.underline(B.bold("OPTIONS")),""),c.push(ku(t,"  ")),c.push("");if(o.length>0)c.push(B.underline(B.bold("COMMANDS")),""),c.push(ku(o,"  ")),c.push("",`Use \`${s} <command> --help\` for more information about a command.`);return c.filter((h)=>typeof h==="string").join(`
`)}async function QD(u,D={}){let e=D.rawArgs||process.argv.slice(2),r=D.showUsage||Ar;try{if(e.includes("--help")||e.includes("-h"))await r(...await zu(u,e)),process.exit(0);else if(e.length===1&&e[0]==="--version"){let n=typeof u.meta==="function"?await u.meta():await u.meta;if(!n?.version)throw new z("No version specified","E_NO_VERSION");P.log(n.version)}else await UD(u,{rawArgs:e})}catch(n){let s=n instanceof z;if(!s)P.error(n,`
`);if(s)await r(...await zu(u,e));P.error(n.message),process.exit(1)}}import{readFile as wr,readdir as vr,stat as OD}from"fs/promises";import{join as yr}from"path";var q=".proxy-cache";async function qu(u){let D=await vr(u,{withFileTypes:!0}),e=[];for(let r of D){let n=yr(u,r.name);if(r.isDirectory())e.push(...await qu(n));else if(r.name==="response.json")e.push(n)}return e}async function XD(u){try{let D=u.split("/"),e=D.indexOf(q)+2;if(e>=D.length)return null;let r=decodeURIComponent(D[e-1]),n=D[e],s=D.slice(e+1,-1);if(D.indexOf(q)===-1)return null;let i="",o="";if(s.length>0){let h=s.map((d)=>{try{return decodeURIComponent(d)}catch{return d}}),f=h[h.length-1];if(f?.includes("="))i=h.slice(0,-1).join("/"),o=`?${f}`;else i=h.join("/")}let a=`${r}${i?`/${i}`:""}${o}`,c=await wr(u,"utf-8"),l;try{if(l=JSON.parse(c),!l?.status)return null}catch{return null}let C=await OD(u);return{method:n,fullUrl:a,status:l.status,cachedAt:new Date(C.mtime)}}catch(D){return console.error("Failed to parse cache file:",u,D),null}}async function YD(u){try{return await OD(u),!0}catch{return!1}}var LD=H({meta:{name:"list",description:"List all cached items"},args:{cache:{type:"string",description:"Cache directory path",default:q}},async run({args:u}){let D=u.cache;if(!await YD(D)){console.log("No cache entries found.");return}try{let e=await qu(D),n=(await Promise.all(e.map((t)=>XD(t)))).filter((t)=>t!==null);if(n.length===0){console.log("No cache entries found.");return}n.sort((t,i)=>t.fullUrl.localeCompare(i.fullUrl));let s=Math.max(...n.map((t)=>t.fullUrl.length));for(let t of n){let i=t.cachedAt.toLocaleString();console.log(`${t.method.padEnd(7)} ${t.fullUrl.padEnd(s)} (${t.status})    Cached at: ${i}`)}}catch(e){console.error("Failed to list cache entries:",e),process.exit(1)}}});var jD=H({meta:{name:"cache",description:"Cache management commands"},subCommands:{list:LD}});var xD=async(u,D=Object.create(null))=>{let{all:e=!1,dot:r=!1}=D,s=(u instanceof cu?u.raw.headers:u.headers).get("Content-Type");if(s?.startsWith("multipart/form-data")||s?.startsWith("application/x-www-form-urlencoded"))return Sr(u,{all:e,dot:r});return{}};async function Sr(u,D){let e=await u.formData();if(e)return Rr(e,D);return{}}function Rr(u,D){let e=Object.create(null);if(u.forEach((r,n)=>{if(!(D.all||n.endsWith("[]")))e[n]=r;else Nr(e,n,r)}),D.dot)Object.entries(e).forEach(([r,n])=>{if(r.includes("."))Ir(e,r,n),delete e[r]});return e}var Nr=(u,D,e)=>{if(u[D]!==void 0)if(Array.isArray(u[D]))u[D].push(e);else u[D]=[u[D],e];else u[D]=e},Ir=(u,D,e)=>{let r=u,n=D.split(".");n.forEach((s,t)=>{if(t===n.length-1)r[s]=e;else{if(!r[s]||typeof r[s]!=="object"||Array.isArray(r[s])||r[s]instanceof File)r[s]=Object.create(null);r=r[s]}})};var Gu=(u)=>{let D=u.split("/");if(D[0]==="")D.shift();return D},ut=(u)=>{let{groups:D,path:e}=_r(u),r=Gu(e);return Tr(r,D)},_r=(u)=>{let D=[];return u=u.replace(/\{[^}]+\}/g,(e,r)=>{let n=`@${r}`;return D.push([n,e]),n}),{groups:D,path:u}},Tr=(u,D)=>{for(let e=D.length-1;e>=0;e--){let[r]=D[e];for(let n=u.length-1;n>=0;n--)if(u[n].includes(r)){u[n]=u[n].replace(r,D[e][1]);break}}return u},Fu={},Pu=(u)=>{if(u==="*")return"*";let D=u.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(D){if(!Fu[u])if(D[2])Fu[u]=[u,D[1],new RegExp("^"+D[2]+"$")];else Fu[u]=[u,D[1],!0];return Fu[u]}return null},Mr=(u)=>{try{return decodeURI(u)}catch{return u.replace(/(?:%[0-9A-Fa-f]{2})+/g,(D)=>{try{return decodeURI(D)}catch{return D}})}},Ju=(u)=>{let D=u.url,e=D.indexOf("/",8),r=e;for(;r<D.length;r++){let n=D.charCodeAt(r);if(n===37){let s=D.indexOf("?",r),t=D.slice(e,s===-1?void 0:s);return Mr(t.includes("%25")?t.replace(/%25/g,"%2525"):t)}else if(n===63)break}return D.slice(e,r)};var Dt=(u)=>{let D=Ju(u);return D.length>1&&D[D.length-1]==="/"?D.slice(0,-1):D},J=(...u)=>{let D="",e=!1;for(let r of u){if(D[D.length-1]==="/")D=D.slice(0,-1),e=!0;if(r[0]!=="/")r=`/${r}`;if(r==="/"&&e)D=`${D}/`;else if(r!=="/")D=`${D}${r}`;if(r==="/"&&D==="")D="/"}return D},lu=(u)=>{if(!u.match(/\:.+\?$/))return null;let D=u.split("/"),e=[],r="";return D.forEach((n)=>{if(n!==""&&!/\:/.test(n))r+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){if(e.length===0&&r==="")e.push("/");else e.push(r);let s=n.replace("?","");r+="/"+s,e.push(r)}else r+="/"+n}),e.filter((n,s,t)=>t.indexOf(n)===s)},Ku=(u)=>{if(!/[%+]/.test(u))return u;if(u.indexOf("+")!==-1)u=u.replace(/\+/g," ");return/%/.test(u)?hu(u):u},tt=(u,D,e)=>{let r;if(!e&&D&&!/[%+]/.test(D)){let t=u.indexOf(`?${D}`,8);if(t===-1)t=u.indexOf(`&${D}`,8);while(t!==-1){let i=u.charCodeAt(t+D.length+1);if(i===61){let o=t+D.length+2,a=u.indexOf("&",o);return Ku(u.slice(o,a===-1?void 0:a))}else if(i==38||isNaN(i))return"";t=u.indexOf(`&${D}`,t+1)}if(r=/[%+]/.test(u),!r)return}let n={};r??=/[%+]/.test(u);let s=u.indexOf("?",8);while(s!==-1){let t=u.indexOf("&",s+1),i=u.indexOf("=",s);if(i>t&&t!==-1)i=-1;let o=u.slice(s+1,i===-1?t===-1?void 0:t:i);if(r)o=Ku(o);if(s=t,o==="")continue;let a;if(i===-1)a="";else if(a=u.slice(i+1,t===-1?void 0:t),r)a=Ku(a);if(e){if(!(n[o]&&Array.isArray(n[o])))n[o]=[];n[o].push(a)}else n[o]??=a}return D?n[D]:n},et=tt,rt=(u,D)=>{return tt(u,D,!0)},hu=decodeURIComponent;var cu=class{raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(u,D="/",e=[[]]){this.raw=u,this.path=D,this.#e=e,this.#t={}}param(u){return u?this.getDecodedParam(u):this.getAllDecodedParams()}getDecodedParam(u){let D=this.#e[0][this.routeIndex][1][u],e=this.getParamValue(D);return e?/\%/.test(e)?hu(e):e:void 0}getAllDecodedParams(){let u={},D=Object.keys(this.#e[0][this.routeIndex][1]);for(let e of D){let r=this.getParamValue(this.#e[0][this.routeIndex][1][e]);if(r&&typeof r==="string")u[e]=/\%/.test(r)?hu(r):r}return u}getParamValue(u){return this.#e[1]?this.#e[1][u]:u}query(u){return et(this.url,u)}queries(u){return rt(this.url,u)}header(u){if(u)return this.raw.headers.get(u.toLowerCase())??void 0;let D={};return this.raw.headers.forEach((e,r)=>{D[r]=e}),D}async parseBody(u){return this.bodyCache.parsedBody??=await xD(this,u)}cachedBody=(u)=>{let{bodyCache:D,raw:e}=this,r=D[u];if(r)return r;let n=Object.keys(D)[0];if(n)return D[n].then((s)=>{if(n==="json")s=JSON.stringify(s);return new Response(s)[u]()});return D[u]=e[u]()};json(){return this.cachedBody("json")}text(){return this.cachedBody("text")}arrayBuffer(){return this.cachedBody("arrayBuffer")}blob(){return this.cachedBody("blob")}formData(){return this.cachedBody("formData")}addValidatedData(u,D){this.#t[u]=D}valid(u){return this.#t[u]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return this.#e[0].map(([[,u]])=>u)}get routePath(){return this.#e[0].map(([[,u]])=>u)[this.routeIndex].path}};var nt={Stringify:1,BeforeStream:2,Stream:3},Vr=(u,D)=>{let e=new String(u);return e.isEscaped=!0,e.callbacks=D,e};var Zu=async(u,D,e,r,n)=>{if(typeof u==="object"&&!(u instanceof String)){if(!(u instanceof Promise))u=u.toString();if(u instanceof Promise)u=await u}let s=u.callbacks;if(!s?.length)return Promise.resolve(u);if(n)n[0]+=u;else n=[u];let t=Promise.all(s.map((i)=>i({phase:D,buffer:n,context:r}))).then((i)=>Promise.all(i.filter(Boolean).map((o)=>Zu(o,D,!1,r,n))).then(()=>n[0]));if(e)return Vr(await t,s);else return t};var Hr="text/plain; charset=UTF-8",Uu=(u,D={})=>{return Object.entries(D).forEach(([e,r])=>u.set(e,r)),u},Z=class{#t;#e;env={};#n;finalized=!1;error;#o=200;#s;#u;#D;#r;#i=!0;#F;#a;#c;#l;#h;constructor(u,D){if(this.#t=u,D)this.#s=D.executionCtx,this.env=D.env,this.#c=D.notFoundHandler,this.#h=D.path,this.#l=D.matchResult}get req(){return this.#e??=new cu(this.#t,this.#h,this.#l),this.#e}get event(){if(this.#s&&"respondWith"in this.#s)return this.#s;else throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#s)return this.#s;else throw Error("This context has no ExecutionContext")}get res(){return this.#i=!1,this.#r||=new Response("404 Not Found",{status:404})}set res(u){if(this.#i=!1,this.#r&&u)try{for(let[D,e]of this.#r.headers.entries()){if(D==="content-type")continue;if(D==="set-cookie"){let r=this.#r.headers.getSetCookie();u.headers.delete("set-cookie");for(let n of r)u.headers.append("set-cookie",n)}else u.headers.set(D,e)}}catch(D){if(D instanceof TypeError&&D.message.includes("immutable")){this.res=new Response(u.body,{headers:u.headers,status:u.status});return}else throw D}this.#r=u,this.finalized=!0}render=(...u)=>{return this.#a??=(D)=>this.html(D),this.#a(...u)};setLayout=(u)=>this.#F=u;getLayout=()=>this.#F;setRenderer=(u)=>{this.#a=u};header=(u,D,e)=>{if(D===void 0){if(this.#u)this.#u.delete(u);else if(this.#D)delete this.#D[u.toLocaleLowerCase()];if(this.finalized)this.res.headers.delete(u);return}if(e?.append){if(!this.#u)this.#i=!1,this.#u=new Headers(this.#D),this.#D={};this.#u.append(u,D)}else if(this.#u)this.#u.set(u,D);else this.#D??={},this.#D[u.toLowerCase()]=D;if(this.finalized)if(e?.append)this.res.headers.append(u,D);else this.res.headers.set(u,D)};status=(u)=>{this.#i=!1,this.#o=u};set=(u,D)=>{this.#n??=new Map,this.#n.set(u,D)};get=(u)=>{return this.#n?this.#n.get(u):void 0};get var(){if(!this.#n)return{};return Object.fromEntries(this.#n)}newResponse=(u,D,e)=>{if(this.#i&&!e&&!D&&this.#o===200)return new Response(u,{headers:this.#D});if(D&&typeof D!=="number"){let n=new Headers(D.headers);if(this.#u)this.#u.forEach((t,i)=>{if(i==="set-cookie")n.append(i,t);else n.set(i,t)});let s=Uu(n,this.#D);return new Response(u,{headers:s,status:D.status??this.#o})}let r=typeof D==="number"?D:this.#o;if(this.#D??={},this.#u??=new Headers,Uu(this.#u,this.#D),this.#r)this.#r.headers.forEach((n,s)=>{if(s==="set-cookie")this.#u?.append(s,n);else this.#u?.set(s,n)}),Uu(this.#u,this.#D);e??={};for(let[n,s]of Object.entries(e))if(typeof s==="string")this.#u.set(n,s);else{this.#u.delete(n);for(let t of s)this.#u.append(n,t)}return new Response(u,{status:r,headers:this.#u})};body=(u,D,e)=>{return typeof D==="number"?this.newResponse(u,D,e):this.newResponse(u,D)};text=(u,D,e)=>{if(!this.#D){if(this.#i&&!e&&!D)return new Response(u);this.#D={}}return this.#D["content-type"]=Hr,typeof D==="number"?this.newResponse(u,D,e):this.newResponse(u,D)};json=(u,D,e)=>{let r=JSON.stringify(u);return this.#D??={},this.#D["content-type"]="application/json; charset=UTF-8",typeof D==="number"?this.newResponse(r,D,e):this.newResponse(r,D)};html=(u,D,e)=>{if(this.#D??={},this.#D["content-type"]="text/html; charset=UTF-8",typeof u==="object")return Zu(u,nt.Stringify,!1,{}).then((r)=>{return typeof D==="number"?this.newResponse(r,D,e):this.newResponse(r,D)});return typeof D==="number"?this.newResponse(u,D,e):this.newResponse(u,D)};redirect=(u,D)=>{return this.#u??=new Headers,this.#u.set("Location",u),this.newResponse(null,D??302)};notFound=()=>{return this.#c??=()=>new Response,this.#c(this)}};var Qu=(u,D,e)=>{return(r,n)=>{let s=-1;return t(0);async function t(i){if(i<=s)throw new Error("next() called multiple times");s=i;let o,a=!1,c;if(u[i]){if(c=u[i][0][0],r instanceof Z)r.req.routeIndex=i}else c=i===u.length&&n||void 0;if(!c){if(r instanceof Z&&r.finalized===!1&&e)o=await e(r)}else try{o=await c(r,()=>{return t(i+1)})}catch(l){if(l instanceof Error&&r instanceof Z&&D)r.error=l,o=await D(l,r),a=!0;else throw l}if(o&&(r.finalized===!1||a))r.res=o;return r}}};var p="ALL",st="all",it=["get","post","put","delete","options","patch"],Cu="Can not add a route since the matcher is already built.",fu=class extends Error{};var kr=Symbol("composedHandler"),Wr=(u)=>{return u.text("404 Not Found",404)},ot=(u,D)=>{if("getResponse"in u)return u.getResponse();return console.error(u),D.text("Internal Server Error",500)},Ou=class{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(u={}){[...it,st].forEach((r)=>{this[r]=(n,...s)=>{if(typeof n==="string")this.#t=n;else this.addRoute(r,this.#t,n);return s.forEach((t)=>{if(typeof t!=="string")this.addRoute(r,this.#t,t)}),this}}),this.on=(r,n,...s)=>{for(let t of[n].flat()){this.#t=t;for(let i of[r].flat())s.map((o)=>{this.addRoute(i.toUpperCase(),this.#t,o)})}return this},this.use=(r,...n)=>{if(typeof r==="string")this.#t=r;else this.#t="*",n.unshift(r);return n.forEach((s)=>{this.addRoute(p,this.#t,s)}),this};let e=u.strict??!0;delete u.strict,Object.assign(this,u),this.getPath=e?u.getPath??Ju:Dt}clone(){let u=new Ou({router:this.router,getPath:this.getPath});return u.routes=this.routes,u}notFoundHandler=Wr;errorHandler=ot;route(u,D){let e=this.basePath(u);return D.routes.map((r)=>{let n;if(D.errorHandler===ot)n=r.handler;else n=async(s,t)=>(await Qu([],D.errorHandler)(s,()=>r.handler(s,t))).res,n[kr]=r.handler;e.addRoute(r.method,r.path,n)}),this}basePath(u){let D=this.clone();return D._basePath=J(this._basePath,u),D}onError=(u)=>{return this.errorHandler=u,this};notFound=(u)=>{return this.notFoundHandler=u,this};mount(u,D,e){let r,n;if(e)if(typeof e==="function")n=e;else n=e.optionHandler,r=e.replaceRequest;let s=n?(i)=>{let o=n(i);return Array.isArray(o)?o:[o]}:(i)=>{let o=void 0;try{o=i.executionCtx}catch{}return[i.env,o]};r||=(()=>{let i=J(this._basePath,u),o=i==="/"?0:i.length;return(a)=>{let c=new URL(a.url);return c.pathname=c.pathname.slice(o)||"/",new Request(c,a)}})();let t=async(i,o)=>{let a=await D(r(i.req.raw),...s(i));if(a)return a;await o()};return this.addRoute(p,J(u,"*"),t),this}addRoute(u,D,e){u=u.toUpperCase(),D=J(this._basePath,D);let r={path:D,method:u,handler:e};this.router.add(u,D,[e,r]),this.routes.push(r)}matchRoute(u,D){return this.router.match(u,D)}handleError(u,D){if(u instanceof Error)return this.errorHandler(u,D);throw u}dispatch(u,D,e,r){if(r==="HEAD")return(async()=>new Response(null,await this.dispatch(u,D,e,"GET")))();let n=this.getPath(u,{env:e}),s=this.matchRoute(r,n),t=new Z(u,{path:n,matchResult:s,env:e,executionCtx:D,notFoundHandler:this.notFoundHandler});if(s[0].length===1){let o;try{o=s[0][0][0][0](t,async()=>{t.res=await this.notFoundHandler(t)})}catch(a){return this.handleError(a,t)}return o instanceof Promise?o.then((a)=>a||(t.finalized?t.res:this.notFoundHandler(t))).catch((a)=>this.handleError(a,t)):o??this.notFoundHandler(t)}let i=Qu(s[0],this.errorHandler,this.notFoundHandler);return(async()=>{try{let o=await i(t);if(!o.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return o.res}catch(o){return this.handleError(o,t)}})()}fetch=(u,...D)=>{return this.dispatch(u,D[1],D[0],u.method)};request=(u,D,e,r)=>{if(u instanceof Request){if(D!==void 0)u=new Request(u,D);return this.fetch(u,e,r)}u=u.toString();let n=/^https?:\/\//.test(u)?u:`http://localhost${J("/",u)}`,s=new Request(n,D);return this.fetch(s,e,r)};fire=()=>{addEventListener("fetch",(u)=>{u.respondWith(this.dispatch(u.request,u,void 0,u.request.method))})}};var Eu="[^/]+",j=".*",x="(?:|/.*)",U=Symbol(),zr=new Set(".\\+*[^]$()");function qr(u,D){if(u.length===1)return D.length===1?u<D?-1:1:-1;if(D.length===1)return 1;if(u===j||u===x)return 1;else if(D===j||D===x)return-1;if(u===Eu)return 1;else if(D===Eu)return-1;return u.length===D.length?u<D?-1:1:D.length-u.length}var du=class{index;varIndex;children=Object.create(null);insert(u,D,e,r,n){if(u.length===0){if(this.index!==void 0)throw U;if(n)return;this.index=D;return}let[s,...t]=u,i=s==="*"?t.length===0?["","",j]:["","",Eu]:s==="/*"?["","",x]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),o;if(i){let a=i[1],c=i[2]||Eu;if(a&&i[2]){if(c=c.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(c))throw U}if(o=this.children[c],!o){if(Object.keys(this.children).some((l)=>l!==j&&l!==x))throw U;if(n)return;if(o=this.children[c]=new du,a!=="")o.varIndex=r.varIndex++}if(!n&&a!=="")e.push([a,o.varIndex])}else if(o=this.children[s],!o){if(Object.keys(this.children).some((a)=>a.length>1&&a!==j&&a!==x))throw U;if(n)return;o=this.children[s]=new du}o.insert(t,D,e,r,n)}buildRegExpStr(){let D=Object.keys(this.children).sort(qr).map((e)=>{let r=this.children[e];return(typeof r.varIndex==="number"?`(${e})@${r.varIndex}`:zr.has(e)?`\\${e}`:e)+r.buildRegExpStr()});if(typeof this.index==="number")D.unshift(`#${this.index}`);if(D.length===0)return"";if(D.length===1)return D[0];return"(?:"+D.join("|")+")"}};var at=class{context={varIndex:0};root=new du;insert(u,D,e){let r=[],n=[];for(let t=0;;){let i=!1;if(u=u.replace(/\{[^}]+\}/g,(o)=>{let a=`@\\${t}`;return n[t]=[a,o],t++,i=!0,a}),!i)break}let s=u.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let t=n.length-1;t>=0;t--){let[i]=n[t];for(let o=s.length-1;o>=0;o--)if(s[o].indexOf(i)!==-1){s[o]=s[o].replace(i,n[t][1]);break}}return this.root.insert(s,D,r,this.context,e),r}buildRegExp(){let u=this.root.buildRegExpStr();if(u==="")return[/^$/,[],[]];let D=0,e=[],r=[];return u=u.replace(/#(\d+)|@(\d+)|\.\*\$/g,(n,s,t)=>{if(typeof s!=="undefined")return e[++D]=Number(s),"$()";if(typeof t!=="undefined")return r[Number(t)]=++D,"";return""}),[new RegExp(`^${u}`),e,r]}};var ct=[],Kr=[/^$/,[],Object.create(null)],Ft=Object.create(null);function lt(u){return Ft[u]??=new RegExp(u==="*"?"":`^${u.replace(/\/\*$|([.\\+*[^\]$()])/g,(D,e)=>e?`\\${e}`:"(?:|/.*)")}$`)}function Gr(){Ft=Object.create(null)}function Pr(u){let D=new at,e=[];if(u.length===0)return Kr;let r=u.map((a)=>[!/\*|\/:/.test(a[0]),...a]).sort(([a,c],[l,C])=>a?1:l?-1:c.length-C.length),n=Object.create(null);for(let a=0,c=-1,l=r.length;a<l;a++){let[C,h,f]=r[a];if(C)n[h]=[f.map(([g])=>[g,Object.create(null)]),ct];else c++;let d;try{d=D.insert(h,c,C)}catch(g){throw g===U?new fu(h):g}if(C)continue;e[c]=f.map(([g,I])=>{let k=Object.create(null);I-=1;for(;I>=0;I--){let[_,uu]=d[I];k[_]=uu}return[g,k]})}let[s,t,i]=D.buildRegExp();for(let a=0,c=e.length;a<c;a++)for(let l=0,C=e[a].length;l<C;l++){let h=e[a][l]?.[1];if(!h)continue;let f=Object.keys(h);for(let d=0,g=f.length;d<g;d++)h[f[d]]=i[h[f[d]]]}let o=[];for(let a in t)o[a]=e[t[a]];return[s,o,n]}function Q(u,D){if(!u)return;for(let e of Object.keys(u).sort((r,n)=>n.length-r.length))if(lt(e).test(D))return[...u[e]];return}var Xu=class{name="RegExpRouter";middleware;routes;constructor(){this.middleware={[p]:Object.create(null)},this.routes={[p]:Object.create(null)}}add(u,D,e){let{middleware:r,routes:n}=this;if(!r||!n)throw new Error(Cu);if(!r[u])[r,n].forEach((i)=>{i[u]=Object.create(null),Object.keys(i[p]).forEach((o)=>{i[u][o]=[...i[p][o]]})});if(D==="/*")D="*";let s=(D.match(/\/:/g)||[]).length;if(/\*$/.test(D)){let i=lt(D);if(u===p)Object.keys(r).forEach((o)=>{r[o][D]||=Q(r[o],D)||Q(r[p],D)||[]});else r[u][D]||=Q(r[u],D)||Q(r[p],D)||[];Object.keys(r).forEach((o)=>{if(u===p||u===o)Object.keys(r[o]).forEach((a)=>{i.test(a)&&r[o][a].push([e,s])})}),Object.keys(n).forEach((o)=>{if(u===p||u===o)Object.keys(n[o]).forEach((a)=>i.test(a)&&n[o][a].push([e,s]))});return}let t=lu(D)||[D];for(let i=0,o=t.length;i<o;i++){let a=t[i];Object.keys(n).forEach((c)=>{if(u===p||u===c)n[c][a]||=[...Q(r[c],a)||Q(r[p],a)||[]],n[c][a].push([e,s-o+i+1])})}}match(u,D){Gr();let e=this.buildAllMatchers();return this.match=(r,n)=>{let s=e[r]||e[p],t=s[2][n];if(t)return t;let i=n.match(s[0]);if(!i)return[[],ct];let o=i.indexOf("",1);return[s[1][o],i]},this.match(u,D)}buildAllMatchers(){let u=Object.create(null);return[...Object.keys(this.routes),...Object.keys(this.middleware)].forEach((D)=>{u[D]||=this.buildMatcher(D)}),this.middleware=this.routes=void 0,u}buildMatcher(u){let D=[],e=u===p;if([this.middleware,this.routes].forEach((r)=>{let n=r[u]?Object.keys(r[u]).map((s)=>[s,r[u][s]]):[];if(n.length!==0)e||=!0,D.push(...n);else if(u!==p)D.push(...Object.keys(r[p]).map((s)=>[s,r[p][s]]))}),!e)return null;else return Pr(D)}};var Yu=class{name="SmartRouter";routers=[];routes=[];constructor(u){Object.assign(this,u)}add(u,D,e){if(!this.routes)throw new Error(Cu);this.routes.push([u,D,e])}match(u,D){if(!this.routes)throw new Error("Fatal error");let{routers:e,routes:r}=this,n=e.length,s=0,t;for(;s<n;s++){let i=e[s];try{r.forEach((o)=>{i.add(...o)}),t=i.match(u,D)}catch(o){if(o instanceof fu)continue;throw o}this.match=i.match.bind(i),this.routers=[i],this.routes=void 0;break}if(s===n)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,t}get activeRouter(){if(this.routes||this.routers.length!==1)throw new Error("No active router has been determined yet.");return this.routers[0]}};var Lu=class{methods;children;patterns;order=0;name;params=Object.create(null);constructor(u,D,e){if(this.children=e||Object.create(null),this.methods=[],this.name="",u&&D){let r=Object.create(null);r[u]={handler:D,possibleKeys:[],score:0,name:this.name},this.methods=[r]}this.patterns=[]}insert(u,D,e){this.name=`${u} ${D}`,this.order=++this.order;let r=this,n=ut(D),s=[];for(let o=0,a=n.length;o<a;o++){let c=n[o];if(Object.keys(r.children).includes(c)){r=r.children[c];let C=Pu(c);if(C)s.push(C[1]);continue}r.children[c]=new Lu;let l=Pu(c);if(l)r.patterns.push(l),s.push(l[1]);r=r.children[c]}if(!r.methods.length)r.methods=[];let t=Object.create(null),i={handler:e,possibleKeys:s.filter((o,a,c)=>c.indexOf(o)===a),name:this.name,score:this.order};return t[u]=i,r.methods.push(t),r}gHSets(u,D,e,r){let n=[];for(let s=0,t=u.methods.length;s<t;s++){let i=u.methods[s],o=i[D]||i[p],a=Object.create(null);if(o!==void 0)o.params=Object.create(null),o.possibleKeys.forEach((c)=>{let l=a[o.name];o.params[c]=r[c]&&!l?r[c]:e[c]??r[c],a[o.name]=!0}),n.push(o)}return n}search(u,D){let e=[];this.params=Object.create(null);let n=[this],s=Gu(D);for(let i=0,o=s.length;i<o;i++){let a=s[i],c=i===o-1,l=[];for(let C=0,h=n.length;C<h;C++){let f=n[C],d=f.children[a];if(d)if(d.params=f.params,c===!0){if(d.children["*"])e.push(...this.gHSets(d.children["*"],u,f.params,Object.create(null)));e.push(...this.gHSets(d,u,f.params,Object.create(null)))}else l.push(d);for(let g=0,I=f.patterns.length;g<I;g++){let k=f.patterns[g],_={...f.params};if(k==="*"){let Bu=f.children["*"];if(Bu)e.push(...this.gHSets(Bu,u,f.params,Object.create(null))),l.push(Bu);continue}if(a==="")continue;let[uu,uD,O]=k,K=f.children[uu],DD=s.slice(i).join("/");if(O instanceof RegExp&&O.test(DD)){_[uD]=DD,e.push(...this.gHSets(K,u,f.params,_));continue}if(O===!0||O instanceof RegExp&&O.test(a)){if(typeof uu==="string")if(_[uD]=a,c===!0){if(e.push(...this.gHSets(K,u,_,f.params)),K.children["*"])e.push(...this.gHSets(K.children["*"],u,_,f.params))}else K.params=_,l.push(K)}}}n=l}return[e.sort((i,o)=>{return i.score-o.score}).map(({handler:i,params:o})=>[i,o])]}};var ju=class{name="TrieRouter";node;constructor(){this.node=new Lu}add(u,D,e){let r=lu(D);if(r){for(let n of r)this.node.insert(u,n,e);return}this.node.insert(u,D,e)}match(u,D){return this.node.search(u,D)}};var xu=class extends Ou{constructor(u={}){super(u);this.router=u.router??new Yu({routers:[new Xu,new ju]})}};import{mkdir as Jr,readFile as Zr,writeFile as Ur}from"fs/promises";import{dirname as Qr,join as Or}from"path";async function ht(u,D,e,r,n){let s=e.replace(/^\//,""),t=ft(u,D,s,r,n);try{let i=await Zr(t,"utf-8"),o=JSON.parse(i);return console.log("Return response from cache:",t),{body:o.body,status:o.status,headers:new Headers(o.headers)}}catch(i){return console.log("Cache not found, fetch from API:",t),null}}async function Ct(u,D){let e=D.path.replace(/^\//,""),r=ft(D.baseUrl,D.method,e,D.query,D.cacheDir),n={body:u.body,status:u.status,headers:Object.fromEntries(u.headers.entries())};try{await Jr(Qr(r),{recursive:!0}),await Ur(r,JSON.stringify(n)),console.log("Saved response to cache:",r)}catch(s){console.error("Failed to write cache file",r,s)}}function ft(u,D,e,r,n){let s=Object.entries(r).sort(([i],[o])=>i.localeCompare(o)).map(([i,o])=>`${i}=${o}`).join("&"),t=s?`${e}/${encodeURIComponent(s)}`:e;return Or(n,encodeURIComponent(u),D,t,"response.json")}function Xr(u,D,e){let r=new URL(D,u);for(let n in e)r.searchParams.append(n,e[n]);return r}function Yr(u){let D=new Headers(u);return D.delete("Host"),D.delete("Connection"),D.delete("Proxy-Authorization"),D.delete("Upgrade"),D.delete("Referer"),D}function Lr(u){let D=new Headers(u);return D.delete("Content-Encoding"),D.delete("Content-Length"),D.delete("Transfer-Encoding"),D.delete("Connection"),D.delete("Proxy-Authenticate"),D.delete("Proxy-Authorization"),D.delete("Via"),D.delete("Server"),D.delete("X-Powered-By"),D.delete("Set-Cookie"),D}var Et=H({meta:{name:"serve",description:"Start the proxy server"},args:{target:{type:"positional",description:"Target URL to proxy",required:!0},cache:{type:"string",description:"Cache directory path",default:q},port:{type:"string",description:"Port number to listen on",default:"3000"}},async run({args:u}){let D=new xu,e=u.target,r=Number.parseInt(u.port,10),n=u.cache;if(!e)console.error("Target URL is required"),process.exit(1);D.all("*",async(s)=>{let t=Xr(e,s.req.path,s.req.query()),i=s.req.method,o=await ht(e,s.req.method,s.req.path,s.req.query(),n);if(o)return s.body(o.body,{status:o.status,headers:o.headers});try{let a=await fetch(t.toString(),{method:i,headers:Yr(new Headers(s.req.header())),body:i!=="GET"&&i!=="HEAD"?await s.req.text():void 0}),c=await a.text(),l=Lr(a.headers);return await Ct({body:c,status:a.status,headers:l},{baseUrl:e,path:s.req.path,method:s.req.method,query:s.req.query(),cacheDir:n}),s.body(c,{status:a.status,headers:l})}catch(a){return console.error("Proxy request failed:",a),s.body("Proxy request failed",{status:502})}});try{console.log(`Starting proxy server on http://localhost:${r}`),console.log(`Proxying requests to: ${e}`),console.log(`Cache directory: ${n}`);let s=Bun.serve({port:r,fetch:D.fetch,development:!0});console.log(`Server is running at http://localhost:${s.port}`)}catch(s){console.error("Failed to start server:",s),process.exit(1)}}});var jr=H({meta:{name:"proxy-cache-server",version:"0.1.0",description:"A caching proxy server"},subCommands:{serve:Et,cache:jD}});QD(jr);
